(function(t){function e(e){for(var a,r,o=e[0],l=e[1],u=e[2],d=0,h=[];d<o.length;d++)r=o[d],i[r]&&h.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0078":function(t,e,n){},"08bc":function(t,e,n){},"0959":function(t,e,n){},"0ae1":function(t,e,n){},"0b0a":function(t,e,n){"use strict";var a=n("8a78"),i=n.n(a);i.a},"1dd2":function(t,e,n){},2382:function(t,e,n){},"2af4":function(t,e,n){"use strict";var a=n("5424"),i=n.n(a);i.a},"2e3f":function(t,e,n){"use strict";var a=n("b184"),i=n.n(a);i.a},3030:function(t,e,n){"use strict";var a=n("7c63"),i=n.n(a);i.a},"37ab":function(t,e,n){"use strict";var a=n("0959"),i=n.n(a);i.a},"37e1":function(t,e,n){"use strict";var a=n("fe25"),i=n.n(a);i.a},"3eab":function(t,e,n){},4446:function(t,e,n){"use strict";var a=n("5f0b"),i=n.n(a);i.a},"44ef":function(t,e,n){},"46d3":function(t,e,n){"use strict";var a=n("0078"),i=n.n(a);i.a},"4a18":function(t,e,n){},"4cc6":function(t,e,n){},5009:function(t,e,n){"use strict";var a=n("4a18"),i=n.n(a);i.a},5424:function(t,e,n){},"56a3":function(t,e,n){"use strict";var a=n("d66d"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=n("2f62"),s=(n("f751"),n("6b54"),n("ac6a"),n("a481"),n("53ca")),r={get:function(t){var e=null;return e="object"===Object(s["a"])(t)?this.repo[t[0]][t[1]]:this.repo[t],e&&"object"!==Object(s["a"])(e)&&(e={template:e,return:"none"}),e},repo:{raw:{template:"$query$",return:"auto"},databases:{template:"SHOW DATABASES",return:"list"},tables:{template:"SHOW TABLES",return:"list"},fields:{template:"SHOW FULL COLUMNS FROM `$database$`.`$table$`",return:"array"},all:{template:"SELECT * FROM `$database$`.`$table$`",return:"array"},entry:{template:"SELECT * FROM `$database$`.`$table$` WHERE `$field$`='$value$'",return:"row"},update:{template:"UPDATE `$database$`.`$table$` SET $data$ WHERE `$field$`='$value$'",return:"affected",confirm:!0},del:{template:"DELETE FROM `$database$`.`$table$` WHERE `$field$`='$value$'",return:"affected",confirm:!0},insert:{template:"INSERT INTO `$database$`.`$table$` SET $data$",return:"id"},alter:{template:"ALTER TABLE `$database$`.`$table$` $data$ ",return:"status"},renameTable:{template:"RENAME TABLE `$database$`.`$table$` TO `$name$`",return:"status"},copyTable:{template:"INSERT `$name$` SELECT * FROM `$table$`",return:"status"},copyTableStruct:{template:"CREATE TABLE `$name$` LIKE `$table$`",return:"status"},delTable:{template:"DROP TABLE `$table$`",return:"status"},truncateTable:{template:"TRUNCATE TABLE `$table$`",return:"status"},delColumn:{template:"ALTER TABLE `$table$` DROP COLUMN `$nameOld$`",return:"status"},changeColumn:{template:"ALTER TABLE `$table$` CHANGE `$nameOld$` `$nameNew$` $type$ $isnull$ $defval$ $extra$ COMMENT $comment$ $position$",return:"none"},addColumn:{template:"ALTER TABLE `$table$` ADD $nameNew$ $type$ $isnull$ $defval$ $extra$ COMMENT $comment$ $position$",return:"none"},databasesSchema:{template:"SELECT table_schema,COUNT(table_schema) as tables_count,SUM(data_length) as data_size,SUM(index_length) as index_size FROM `information_schema`.`tables` GROUP BY `table_schema` ORDER BY `table_schema`",return:"array"},tablesSchema:{template:"SELECT table_name,data_length,index_length,table_comment FROM `information_schema`.`tables` WHERE `table_schema`='$database$' ",return:"array"},tableSchema:{template:"SELECT * FROM `information_schema`.`tables` WHERE `table_schema`='$database$' AND `table_name`='$table$' ",return:"row"},collations:{template:"SHOW COLLATION",return:"array"},engines:{template:"SHOW ENGINES",return:"array"}}},o={namespaced:!0,state:{mysql:{keywords:["accessible","account","action","add","admin","after","against","aggregate","algorithm","all","alter","always","analyse","analyze","and","any","as","asc","ascii","asensitive","at","autoextend_size","auto_increment","avg","avg_row_length","backup","before","begin","between","bigint","binary","binlog","bit","blob","block","bool","boolean","both","btree","buckets","by","byte","cache","call","cascade","cascaded","case","catalog_name","chain","change","changed","channel","char","character","charset","check","checksum","cipher","class_origin","client","clone","close","coalesce","code","collate","collation","column","columns","column_format","column_name","comment","commit","committed","compact","completion","component","compressed","compression","concurrent","condition","connection","consistent","constraint","constraint_catalog","constraint_name","constraint_schema","contains","context","continue","convert","cpu","create","cross","cube","cume_dist","current","current_date","current_time","current_timestamp","current_user","cursor","cursor_name","data","database","databases","datafile","date","datetime","day","day_hour","day_microsecond","day_minute","day_second","deallocate","dec","decimal","declare","default","default_auth","definer","definition","delayed","delay_key_write","delete","dense_rank","desc","describe","description","des_key_file","deterministic","diagnostics","directory","disable","discard","disk","distinct","distinctrow","do","double","drop","dual","dumpfile","duplicate","dynamic","each","else","elseif","empty","enable","enclosed","encryption","end","ends","engine","engines","enum","error","errors","escape","escaped","event","events","every","except","exchange","exclude","execute","exists","exit","expansion","expire","explain","export","extended","extent_size","false","fast","faults","fetch","fields","file","file_block_size","filter","first","first_value","fixed","float","float4","float8","flush","following","follows","for","force","foreign","format","found","from","full","fulltext","function","general","generated","geomcollection","geometry","geometrycollection","get","get_format","get_master_public_key","global","grant","grants","group","grouping","groups","group_replication","handler","hash","having","help","high_priority","histogram","history","host","hosts","hour","hour_microsecond","hour_minute","hour_second","identified","if","ignore","ignore_server_ids","import","in","index","indexes","infile","initial_size","inner","inout","insensitive","insert","insert_method","install","instance","int","int1","int2","int3","int4","int8","integer","interval","into","invisible","invoker","io","io_after_gtids","io_before_gtids","io_thread","ipc","is","isolation","issuer","iterate","join","json","json_table","key","keys","key_block_size","kill","lag","language","last","last_value","lead","leading","leave","leaves","left","less","level","like","limit","linear","lines","linestring","list","load","local","localtime","localtimestamp","lock","locked","locks","logfile","logs","long","longblob","longtext","loop","low_priority","master","master_auto_position","master_bind","master_connect_retry","master_delay","master_heartbeat_period","master_host","master_log_file","master_log_pos","master_password","master_port","master_public_key_path","master_retry_count","master_server_id","master_ssl","master_ssl_ca","master_ssl_capath","master_ssl_cert","master_ssl_cipher","master_ssl_crl","master_ssl_crlpath","master_ssl_key","master_ssl_verify_server_cert","master_tls_version","master_user","match","maxvalue","max_connections_per_hour","max_queries_per_hour","max_rows","max_size","max_updates_per_hour","max_user_connections","medium","mediumblob","mediumint","mediumtext","memory","merge","message_text","microsecond","middleint","migrate","minute","minute_microsecond","minute_second","min_rows","mod","mode","modifies","modify","month","multilinestring","multipoint","multipolygon","mutex","mysql_errno","name","names","national","natural","nchar","ndb","ndbcluster","nested","never","new","next","no","nodegroup","none","not","nowait","no_wait","no_write_to_binlog","nth_value","ntile","null","nulls","number","numeric","nvarchar","of","offset","on","one","only","open","optimize","optimizer_costs","option","optional","optionally","options","or","order","ordinality","organization","others","out","outer","outfile","over","owner","pack_keys","page","parser","partial","partition","partitioning","partitions","password","path","percent_rank","persist","persist_only","phase","plugin","plugins","plugin_dir","point","polygon","port","precedes","preceding","precision","prepare","preserve","prev","primary","privileges","procedure","process","processlist","profile","profiles","proxy","purge","quarter","query","quick","range","rank","read","reads","read_only","read_write","real","rebuild","recover","recursive","redofile","redo_buffer_size","redundant","reference","references","regexp","relay","relaylog","relay_log_file","relay_log_pos","relay_thread","release","reload","remote","remove","rename","reorganize","repair","repeat","repeatable","replace","replicate_do_db","replicate_do_table","replicate_ignore_db","replicate_ignore_table","replicate_rewrite_db","replicate_wild_do_table","replicate_wild_ignore_table","replication","require","reset","resignal","resource","respect","restart","restore","restrict","resume","return","returned_sqlstate","returns","reuse","reverse","revoke","right","rlike","role","rollback","rollup","rotate","routine","row","rows","row_count","row_format","row_number","rtree","savepoint","schedule","schema","schemas","schema_name","second","secondary_engine","secondary_load","secondary_unload","second_microsecond","security","select","sensitive","separator","serial","serializable","server","session","set","share","show","shutdown","signal","signed","simple","skip","slave","slow","smallint","snapshot","socket","some","soname","sounds","source","spatial","specific","sql","sqlexception","sqlstate","sqlwarning","sql_after_gtids","sql_after_mts_gaps","sql_before_gtids","sql_big_result","sql_buffer_result","sql_cache","sql_calc_found_rows","sql_no_cache","sql_small_result","sql_thread","sql_tsi_day","sql_tsi_hour","sql_tsi_minute","sql_tsi_month","sql_tsi_quarter","sql_tsi_second","sql_tsi_week","sql_tsi_year","srid","ssl","stacked","start","starting","starts","stats_auto_recalc","stats_persistent","stats_sample_pages","status","stop","storage","stored","straight_join","string","subclass_origin","subject","subpartition","subpartitions","super","suspend","swaps","switches","system","table","tables","tablespace","table_checksum","table_name","temporary","temptable","terminated","text","than","then","thread_priority","ties","time","timestamp","timestampadd","timestampdiff","tinyblob","tinyint","tinytext","to","trailing","transaction","trigger","triggers","true","truncate","type","types","unbounded","uncommitted","undefined","undo","undofile","undo_buffer_size","unicode","uninstall","union","unique","unknown","unlock","unsigned","until","update","upgrade","usage","use","user","user_resources","use_frm","using","utc_date","utc_time","utc_timestamp","validation","value","values","varbinary","varchar","varcharacter","variables","varying","vcpu","view","virtual","visible","wait","warnings","week","weight_string","when","where","while","window","with","without","work","wrapper","write","x","x509","xa","xid","xml","xor","year","year_month","zerofill","admin","buckets","clone","component","cume_dist","definition","dense_rank","description","empty","except","exclude","first_value","following","geomcollection","get_master_public_key","grouping","groups","histogram","history","invisible","json_table","lag","last_value","lead","locked","master_public_key_path","nested","nowait","nth_value","ntile","nulls","of","optional","ordinality","organization","others","over","path","percent_rank","persist","persist_only","preceding","process","rank","recursive","reference","remote","resource","respect","restart","reuse","role","row_number","secondary_engine","secondary_load","secondary_unload","skip","srid","system","thread_priority","ties","unbounded","vcpu","visible","window"],queries:{select:["select","from","join","where","group by","having","order by","limit","procedure","for","lock"],insert:["insert","into","values","select","set"],update:["update","set","where","limit"],delete:["delete","from","using","where","order","limit"],create:["create",["database","table","index"]],drop:["drop",["database","table","index"]],alter:["alter","table"],rename:["rename","table"],truncate:["truncate"],replace:["insert","into","values","select","set"],describe:["describe"],explain:["explain"],handler:["handler"],do:["do"]},tableParams:[{label:"table_name"},{label:"collate",type:"enum",options:null,function:!0},{label:"comment"},{label:"engine",type:"enum",options:null,function:!0},{label:"pack_keys",type:"enum",options:["DEFAULT","0","1"],engine:"MyISAM",function:!0},{label:"checksum",type:"enum",options:["0","1"],engine:"MyISAM",function:!0},{label:"delay_key_write",type:"enum",options:["0","1"],engine:"MyISAM",function:!0},{label:"auto_increment",function:!0},{label:"row_format",type:"enum",function:!0}],fields:[{label:"Position",type:"enum",options:null},{label:"Field"},{label:"Type",type:"typeMysql"},{label:"Collation",type:"enum",options:null},{label:"Null",type:"enum",options:["YES","NO"]},{label:"Key",disabled:!0},{label:"Default"},{label:"Extra",type:"enum",options:["","auto_increment","on update CURRENT_TIMESTAMP"]},{label:"Privileges",disabled:!0},{label:"Comment"}],types:[{value:"tinyint",block:"numeric"},{value:"smallint",block:"numeric"},{value:"mediumint",block:"numeric"},{value:"int",block:"numeric"},{value:"bigint",block:"numeric"},{value:"decimal",block:"decimal"},{value:"float",block:"decimal"},{value:"double",block:"decimal"},{value:"real",block:"decimal"},{value:"datetime",block:"date and time"},{value:"date",block:"date and time"},{value:"timestamp",block:"date and time"},{value:"time",block:"date and time"},{value:"year",block:"date and time"},{value:"char",block:"char"},{value:"varchar",block:"char"},{value:"tinytext",block:"text"},{value:"text",block:"text"},{value:"mediumtext",block:"text"},{value:"longtext",block:"text"},{value:"binary",block:"text"},{value:"varbinary",block:"text"},{value:"tinyblob",block:"blob"},{value:"mediumblob",block:"blob"},{value:"blob",block:"blob"},{value:"longblob",block:"blob"},{value:"enum",block:"sets"},{value:"set",block:"sets"},{value:"bit",block:"special"},{value:"boolean",block:"special"},{value:"serial",block:"special"},{value:"geometry",block:"geometry"},{value:"point",block:"geometry"},{value:"linestring",block:"geometry"},{value:"polygon",block:"geometry"},{value:"multipoint",block:"geometry"},{value:"multilinestring",block:"geometry"},{value:"multipolygon",block:"geometry"},{value:"geometrycollection",block:"geometry"}],rowFormat:[{value:"FIXED",block:"MyISAM"},{value:"DYNAMIC",block:"MyISAM"},{value:"COMPACT",block:"InnoDB"},{value:"REDUDANT",block:"InnoDB"},{value:"COMPRESSED",block:"ARCHIVE"}]}}},l={namespaced:!0,state:{},actions:{},mutations:{}},u={namespaced:!0,state:{langs:[{value:"en",label:"En"},{value:"ru",label:"Ru"}],onpages:[{value:"30",label:"30"},{value:"50",label:"50"},{value:"75",label:"75"},{value:"100",label:"100"}],sizeunits:[{bytes:1,label:"B"},{bytes:1024,label:"KB"},{bytes:1048576,label:"MB"},{bytes:1073741824,label:"GB"},{bytes:1099511627776,label:"TB"}]}};a["a"].use(i["a"]);var c=new i["a"].Store({strict:!0,modules:{parser:o,styles:l,constants:u},state:{server:"",lang:"en",onpage:0,loading:!1,error:null,message:null,modal:0,threads:0,checked:!1,connected:!1,navBlock:!1,search:"",searchSkip:0,searchMax:0,searchFound:"",databases:[],tables:[],fields:{},navigation:{links:[],actions:[]}},mutations:{databases:function(t,e){t.databases=e},tables:function(t,e){t.tables=e},fields:function(t,e){t.fields[e.table]=e.fields},search:function(t,e){t.search=e},searchSkip:function(t,e){t.searchSkip=e},searchMax:function(t,e){t.searchMax=e},searchFound:function(t,e){t.searchFound=e},navBlock:function(t,e){t.navBlock=Math.max(0,t.navBlock+e)},modal:function(t,e){t.modal=Math.max(0,t.modal+e)},error:function(t,e){t.error=e},message:function(t,e){t.message=e},checked:function(t,e){t.checked=e},loading:function(t,e){t.loading=e},threadsPlus:function(t){t.threads++},threadsMinus:function(t){t.threads=Math.max(0,t.threads-1)},connected:function(t,e){t.connected=e},database:function(t,e){t.database=e},lang:function(t,e){t.lang=e},onpage:function(t,e){t.onpage=e},navigation:function(t,e){t.navigation=e},server:function(t,e){t.server=e}},actions:{startLoading:function(t){t.commit("threadsPlus"),t.commit("loading",!0)},endLoading:function(t){t.commit("threadsMinus"),t.commit("loading",t.state.threads>0)}}}),d={install:function(t,e){t.prototype.$connection={settings:function(){return"undefined"==typeof g_config?{server:"/"}:g_config},server:function(){return c.state.server&&""!=c.state.server?c.state.server:this.settings().server},prepare:function(t,e){var n=r.get(t),a=n.template;if(e)for(var i in e)a=a.replace("$".concat(i,"$"),e[i]);return n.query=a,n.database=this.database(),n},clearLocalStorage:function(){var e=["lang","last_login","server"],n=t.prototype.$storage.keys();n.forEach(function(n){e.indexOf(n)<0&&t.prototype.$storage.removeItem(n)})},stripTags:function(t){return t?t.toString().replace(/<\/?[^>]+>/gi,""):""},connectionError:function(t){var e=this.stripTags(t);return"Can't connect to «".concat(this.server(),"»\n").concat(e)},fetchOptions:function(){var t={method:"put",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.getToken(),Connection:"Keep-Alive","Keep-Alive":"timeout=60"}};return t},fetch:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this,a=this.fetchOptions(),i=null;switch(t){case"auth":a.headers["Authorization"]=e;break;case"check":break;case"close":a.headers["Authorization"]="Close "+this.getToken();break;default:i=this.prepare(t,e),a.body=JSON.stringify(i);break}return this.setLoading(!0),fetch(this.server(),a).then(function(t){return t.text()},function(t){return n.connectionError(t)}).then(function(e){return n.setLoading(!1),n.processResponse(t,i,e)})}),processResponse:function(t,e,n){var a={};try{a=JSON.parse(n)}catch(i){a.status="error",a.data=this.connectionError(n)}if("error"===a.status&&this.setError(a.data,e),"fail"===a.status&&"check"!=t&&"auth"!=t)return this.check();switch(t){case"raw":case"check":case"auth":case"close":return a;default:return a.data}},escapeAndQuote:function(t,e){return null===t?e?"NULL":"''":(t=t.toString().trim(),t=t.replace(/\\/g,"\\\\"),t=t.replace(/'/g,"\\'"),"'".concat(t,"'"))},establish:function(t,e){var n=this;e=!1,e&&this.clearLocalStorage();var a="Basic "+t;return this.fetch("auth",a).then(function(t){return"success"===t.status?(n.setToken(t.token,t.expire),n.setStatus(!0,!0),!0):t.data})},check:function(){var t=this;return this.fetch("check").then(function(e){return t.setStatus("success"===e.status,!0),"success"===e.status})},close:function(){this.fetch("close"),this.clearLocalStorage(),this.clearToken(),this.setStatus(!1,!1)},fetchFields:function(t,n,a){var i=this,s=e.store.state;if(!a&&s.fields[n]&&s.fields[n].length>0){var r=Object.assign([],s.fields[n]);return new Promise(function(t){t(r)})}return this.fetch("fields",{database:t,table:n}).then(function(t){return i.setFields(n,t)})},commit:function(t,n){e.store.commit(t,n)},dispatch:function(t,n){e.store.dispatch(t,n)},route:function(){return e.router.app._route?e.router.app._route:null},database:function(){return this.route().params.database?this.route().params.database:null},getToken:function(){return t.prototype.$cookies.getItem("token")},setToken:function(e,n){var a=new Date(1e3*n+Date.now()).toUTCString();t.prototype.$cookies.setItem("token",e,a)},clearToken:function(){t.prototype.$cookies.removeItem("token")},setError:function(t,e){this.commit("error",{message:t,query:e})},setStatus:function(t,e){this.commit("connected",t),this.commit("checked",e)},setLoading:function(t){t?this.dispatch("startLoading"):this.dispatch("endLoading")},setFields:function(t,e){return this.commit("fields",{table:t,fields:e}),e}}}},h={install:function(t,e){t.prototype.$dict={get:function(t){var n=e.store.state.lang;return t?this.data[n][t]?this.data[n][t]:"?"+t:this.data[n]},data:{en:{"host-content":"Databases","host-settings":"Host settings","database-settings":"Database settings","database-content":"Tables","database-content-add":"Add table","table-structure":"Structure","table-structure-add":"Add field","table-query":"SQL Query","table-parameters":"Settings","table-content":"Content","table-content-add":"Add new entry",save:"Save",load:"Load",del:"Delete",copy:"Save as copy",copy_struct:"Save as copy structure only",reset:"Reset",searchpage:"Filter fields",structure:"Structure",content:"Content",settings:"Settings",back:"Back",new:"New",add:"Add",databases:"Databases",tables:"Tables",query:"SQL-query",answer:"Answer",send:"Send",nocols:"No columns found",norows:"No rows found",servererror:"Server responded with error",clickerror:"Click to close this message, Ctrl (or Shift) + Click to copy",reset_search:"Reset search",reset_filters:"Reset filters",reload:"Reload",logoff:"Log off",about:"About",language:"Language",onpage:"Results per page",nothingfound:"Nothing found",filteraside:"Filter...",first:"First",truncate:"Clear table",confirm_action:"Confirm this action",mutator_done:"Query completed",server_answer:"Server answer",mutator_yes:"Yes, send query",mutator_no:"No, cancel action",waiting:"Wating for server response...",th_actions:"Edit / copy"},ru:{"host-content":"Базы данных","host-settings":"Настройки общие","database-settings":"Настройки базы","database-content":"Таблицы","database-content-add":"Новая таблица","table-structure":"Структура","table-structure-add":"Добавить поле","table-query":"Запрос","table-parameters":"Настройки","table-content":"Данные","table-content-add":"Добавить запись",save:"Сохранить",load:"Загрузить",del:"Удалить",copy:"Сохранить копию",copy_struct:"Сохранить копию без данных",reset:"Сбросить",searchpage:"Искать среди полей",structure:"Структура",content:"Данные",settings:"Настройки",back:"Назад",new:"Добавить",add:"Добавить",databases:"Базы данных",tables:"Таблицы",query:"SQL-запрос",answer:"Ответ",send:"Отправить",nocols:"Не нашлось столбцов",norows:"Не нашлось строк",servererror:"Сервер сообщил об ошибке",clickerror:"Левый клик = закрыть сообщение; Ctrl (или Shift) + клик = копировать и закрыть",reset_search:"Сбросить",reset_filters:"Сбросить фильтры",reload:"Обновить",logoff:"Выйти",about:"О программе",language:"Язык",onpage:"Записей на страницу",nothingfound:"Ничего нет",filteraside:"Найти...",first:"Первый",truncate:"Очистить таблицу",confirm_action:"Подтвердите действие",mutator_done:"Запрос выполнен",server_answer:"Ответ сервера",mutator_yes:"Да, отправить",mutator_no:"Нет, отменить",waiting:"Ожидание ответа от сервера...",th_actions:"Редактировать"}}}}},f=(n("28a5"),n("c5f6"),n("3b2b"),{install:function(t){t.prototype.$cookies={getItem:function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,a,i,s){if(!t||/^(?:expires|max-age|path|domain|secure)$/i.test(t))return!1;var r="";if(n)switch(n.constructor){case Number:r=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:r="; expires="+n;break;case Date:r="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+(i?"; domain="+i:"")+(a?"; path="+a:"")+(s?"; secure":""),!0},removeItem:function(t,e,n){return!!this.hasItem(t)&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return!(!t||/^(?:expires|max-age|path|domain|secure)$/i.test(t))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/),e=t.length,n=0;n<e;n++)t[n]=decodeURIComponent(t[n]);return t}}}}),p={install:function(t){t.prototype.$storage={available:function(){try{return localStorage.setItem("probe",1),!0}catch(t){return!1}},getItem:function(t){return localStorage.getItem(t)},setItem:function(t,e){localStorage.setItem(t,e)},removeItem:function(t){localStorage.removeItem(t)},hasItem:function(t){return null!==localStorage.getItem(t)},clear:function(){localStorage.clear()},keys:function(){var t=[],e=["getItem","setItem","removeItem","clear","length"];for(var n in localStorage)e.indexOf(n)<0&&t.push(n);return t}}}},m={install:function(t){t.prototype.$valset={parse:function(t){t=t.substr(1,t.length-2),t=t.replace(/''/g,"/'");var e=t.split("','");return e.map(function(t){return t.replace(/\/'/g,"'")})},prepare:function(t){return t.replace(/'/g,"''")},doquotes:function(t){return t.replace(/'/g,"''")}}}},v=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("DataGrid",{attrs:{data:t.answer,total:t.total,limit:t.state.limit,order:t.state.order,offset:t.state.offset,filters:t.state.filters,control:t.control,controls:t.controls,"disable-filters":!0},on:{order:t.changeOrder,offset:t.changeOffset,filters:t.changeFilters,reload:t.reload}}):t._e(),n("QueryParser",{attrs:{query:t.queryRaw,state:t.state},model:{value:t.processed,callback:function(e){t.processed=e},expression:"processed"}})],1)},g=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-grid"},[t.noTable?n("div",[t._v(t._s(t.data))]):0!=t.data.length&&0==t.fieldsOut.length?n("div",{staticClass:"nothing-message",on:{click:function(e){t.searchClear()}}},[t._v(t._s(t.$dict.get().nocols))]):0!=t.data.length&&0==t.dataOut.rows.length?n("div",{staticClass:"nothing-message"},[t._v(t._s(t.$dict.get().norows))]):n("table",[n("DataGridHead",{attrs:{order:t.order,fields:t.fieldsOut,filters:t.filters,control:t.control,controls:t.controls,found:t.found,"disable-filters":t.disableFilters},on:{order:t.changeOrder,filters:t.changeFilters}}),t._l(t.dataOut.rows,function(e,a){return n("DataGridRow",{key:a,class:t.rowClass(a),attrs:{data:e,order:t.order.field,control:t.dataOut.controls[a],controls:t.controls},nativeOn:{click:function(e){t.markRow(a)}}})})],2),t.loading||0!=t.data.length?t._e():n("div",{staticClass:"nothing-message",on:{click:function(e){t.searchClear()}}},[t._v(t._s(t.$dict.get().nothingfound))]),n("TheActions",[t.total>t.limit?n("DataGridPagination",{attrs:{slot:"pagination",total:t.total,offset:t.offset,limit:t.limit},on:{offset:t.changeOffset},slot:"pagination"}):t._e(),n("LinkBase",{attrs:{button:!0,icon:"sync",label:"reload"},on:{click:t.reload}}),t.needResetFilters()?n("LinkBase",{attrs:{button:!0,icon:"undo",label:"reset_filters"},on:{click:function(e){t.resetFilters()}}}):t._e(),t._t("actions")],2)],1)},y=[],w=(n("386d"),n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ButtonsHolder",{attrs:{position:"bottom"}},[t._t("pagination",null,{slot:"pagination"}),t._l(t.actions,function(t){return n("LinkBase",{key:[t.name,t.label].join(),attrs:{to:{name:t.name},icon:t.icon,label:t.label,button:!0}})}),t._t("default")],2)}),k=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"button-holder-static",staticClass:"buttons-holder-static"},[n("div",{ref:"button-holder",class:t.classes},[t._t("pagination"),t.transition?n("transition-group",{attrs:{name:"buttons-holder"}},[t._t("default")],2):t._t("default")],2)])},x=[],T={name:"TheActions",props:{position:{type:String,default:"top"},transition:{type:Boolean,default:!1}},computed:{classes:function(){return{"margin-background":!0,"buttons-holder":!0,"buttons-holder-top":"top"===this.position,"buttons-holder-bottom":"bottom"===this.position}}},mounted:function(){this.resize(),window.addEventListener("resize",this.resize)},methods:{resize:function(){if(this.$refs["button-holder"]){var t=this.$refs["button-holder"].offsetHeight;this.$refs["button-holder-static"].style.height=t+5+"px"}}}},E=T,S=(n("2af4"),n("2877")),R=Object(S["a"])(E,$,x,!1,null,null,null);R.options.__file="ButtonsHolder.vue";var O=R.exports,C={name:"TheActions",components:{ButtonsHolder:O},computed:{actions:function(){return this.$store.state.navigation.actions}}},I=C,L=Object(S["a"])(I,w,k,!1,null,null,null);L.options.__file="TheActions.vue";var B=L.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"pagination-outer",staticClass:"pagination-outer"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}],ref:"pagination-info",staticClass:"pagination-info"},[t._v(" "+t._s(t.offset+1)+" — "+t._s(t.fin)+" / "+t._s(t.total)+" ")]),t.pages.length>1?n("div",{ref:"pagination-pages",staticClass:"pagination-pages"},t._l(t.pages,function(e,a){return n("LinkBase",{key:a,class:{dots:"..."===e.name},attrs:{active:e.index===t.page},on:{click:function(n){t.goto(e.index)}}},[t._v(t._s(e.name))])})):t._e()])},q=[],j={name:"DataGridPagination",props:{limit:{type:Number,required:!0},offset:{type:Number,default:0},total:{type:Number,default:0}},data:function(){return{corner:7,center:5,prevWidth:0,showInfo:!0,maximum:{corner:7,center:5}}},computed:{fin:function(){var t=1*this.offset+1*this.limit;return t<this.total?t:this.total},totalPages:function(){return this.limit?Math.ceil(this.total/this.limit):1},page:{get:function(){return this.limit?Math.round(this.offset/this.limit)+1:1}},pages:function(){for(var t=[],e=!1,n=0;n<this.totalPages;n++)if(this.inBlocks(n))e=!1,t.push({index:n+1,name:n+1});else if(!e){e=!0;var a=this.dotsPage(n),i=this.dotsName(a);t.push({index:a+1,name:i})}return t}},updated:function(){this.resize(!0)},mounted:function(){this.resize(),window.addEventListener("resize",this.resizeEvent)},destroyed:function(){window.removeEventListener("resize",this.resizeEvent)},methods:{resizeEvent:function(){this.resize()},resize:function(t){if(!this.$refs["pagination-outer"]||!this.$refs["pagination-pages"]||!this.$refs["pagination-info"])return!1;var e=this.$refs["pagination-outer"].offsetWidth,n=this.$refs["pagination-pages"].offsetWidth,a=this.$refs["pagination-info"].offsetWidth,i=e-n-a;i<a/3?(1==this.center&&1==this.corner&&(this.showInfo=!1),this.corner>1?this.corner=Math.max(this.corner-1,1):this.center=Math.max(this.center-1,1)):t||(this.showInfo=!0,this.corner<this.maximum.corner?this.corner=Math.min(this.corner+1,this.maximum.corner):this.center=Math.min(this.center+1,this.maximum.center))},goto:function(t){this.$emit("offset",(t-1)*this.limit)},inBlocks:function(t){return t<this.corner||(t>=this.totalPages-this.corner||Math.abs(t-this.page+1)<=this.center)},dotsPage:function(t){return t<this.page?Math.floor((this.corner+this.page-this.center-1)/2):t>this.page?Math.floor((this.totalPages-this.corner+this.page+this.center)/2):t},dotsName:function(t){return this.page-this.center-1-this.corner===1?t+1:this.totalPages-this.corner-this.page-this.center===1?t+1:"..."}}},N=j,D=(n("4446"),Object(S["a"])(N,M,q,!1,null,null,null));D.options.__file="DataGridPagination.vue";var A=D.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[t.control?n("th",{staticClass:"th-action",attrs:{colspan:t.controls.length}},[n("faIcon",{attrs:{icon:"edit"}})],1):t._e(),t._l(t.fields,function(e,a){return n("th",{key:a,ref:"th",refInFor:!0,class:{active:e===t.filter},attrs:{id:"th-"+e}},[t.disableFilters?t._e():n("LinkBase",{class:t.filterCallerClasses(e),attrs:{icon:"filter"},on:{click:function(n){t.showFilter(e)}}}),n("div",{staticClass:"name",on:{click:function(n){t.applyOrder(e)}}},[n("span",{staticClass:"order"},[t._v(t._s(t.orderMark(e)))]),t._v("\n      "+t._s(t.foundOut(e,0))),e==t.found?n("span",{staticClass:"found"},[t._v(t._s(t.foundOut(e,1)))]):t._e(),t._v(t._s(t.foundOut(e,2))+"\n    ")]),e!==t.filter||t.disableFilters?t._e():n("div",{class:t.filterHolderClasses(a)},[e!==t.filter||t.disableFilters?t._e():n("DataGridFilter",{staticClass:"filter",attrs:{width:t.filterWidth(a),value:t.getFilterValue(e),collation:t.getFilterCollation(e),right:t.filterRight(a),type:"text"},on:{close:t.closeFilters,apply:t.applyFilter,clear:t.clearFilter}})],1)],1)})],2)},F=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",style:t.style,on:{keyup:function(e){return e.stopPropagation(),t.checkKeyup(e)},keydown:function(e){return e.stopPropagation(),t.checkKeydown(e)},mouseenter:function(e){t.eventOver()},mouseleave:function(e){t.eventOut()}}},[n("div",{staticClass:"filter-block"},[n("InputBase",{staticClass:"collation",attrs:{value:t.collation,options:t.collations,type:"enum"},model:{value:t.collationRaw,callback:function(e){t.collationRaw=e},expression:"collationRaw"}}),n("div",{staticClass:"value-holder"},[n("InputBase",{ref:"filter",staticClass:"value",attrs:{type:t.type},model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}})],1)],1),n("div",{staticClass:"filter-block"},[n("LinkBase",{attrs:{button:!0,icon:"check"},on:{click:function(e){t.apply()}}}),n("LinkBase",{attrs:{disabled:!t.showClear,button:!0,icon:"undo"},on:{click:function(e){t.clear()}}}),n("LinkBase",{attrs:{button:!0,icon:"times"},on:{click:function(e){t.close()}}})],1)])},z=[],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.is("int")?n("InputNumber",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=t._n(e)},expression:"valueRaw"}},"InputNumber",t.parameters,!1)):t.is("datetime")?n("InputDatetime",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}},"InputDatetime",t.parameters,!1)):t.is("datetimeRange")?n("InputDatetimeRange",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}},"InputDatetimeRange",t.parameters,!1)):t.is("date")?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.valueRaw,expression:"valueRaw"}],staticClass:"date",attrs:{type:"date"},domProps:{value:t.valueRaw},on:{input:function(e){e.target.composing||(t.valueRaw=e.target.value)}}},"input",t.parameters,!1)):t.is("textarea")?n("InputTextarea",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}},"InputTextarea",t.parameters,!1)):t.is("enum")?n("InputSelect",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}},"InputSelect",t.parameters,!1)):t.is("typeMysql")?n("InputType",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}},"InputType",t.parameters,!1)):n("InputText",t._b({model:{value:t.valueRaw,callback:function(e){t.valueRaw=e},expression:"valueRaw"}},"InputText",t.parameters,!1))},U=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datetime-range",attrs:{title:t.valueRaw,value:t.value},on:{input:function(e){t.$emit("input",t.valueRaw)}}},[n("InputDatetime",{ref:"input",attrs:{disabled:t.disabled},model:{value:t.valueRaw1,callback:function(e){t.valueRaw1=e},expression:"valueRaw1"}}),n("InputDatetime",{attrs:{disabled:t.disabled},model:{value:t.valueRaw2,callback:function(e){t.valueRaw2=e},expression:"valueRaw2"}})],1)},K=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datetime",attrs:{title:t.valueRaw,value:t.value},on:{input:function(e){t.$emit("input",t.valueRaw)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueDate,expression:"valueDate"}],ref:"input",staticClass:"date",attrs:{disabled:t.disabled,type:"date"},domProps:{value:t.valueDate},on:{input:function(e){e.target.composing||(t.valueDate=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueTime,expression:"valueTime"}],staticClass:"time",attrs:{disabled:t.disabled,type:"time"},domProps:{value:t.valueTime},on:{input:function(e){e.target.composing||(t.valueTime=e.target.value)}}})])},Q=[],Y={name:"InputDatetime",props:{value:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{valueRaw:this.value}},computed:{valueDate:{get:function(){if(!this.valueRaw)return"";var t=this.valueRaw.toString().split(" ");return"0000-00-00"===t[0]&&(t[0]=""),t[0]},set:function(t){this.valueRaw=this.valueRawBuild(t,this.valueTime)}},valueTime:{get:function(){if(!this.valueRaw)return"";var t=this.valueRaw.toString().split(" ");return t.length>1?t[1]:""},set:function(t){this.valueRaw=this.valueRawBuild(this.valueDate,t)}}},watch:{value:function(){this.valueRaw=this.value}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})},valueRawBuild:function(t,e){var n=[];""!==t&&(n.push(t),""!==e&&n.push(e));var a=n.join(" ");return""===a&&(a="0000-00-00 00:00:00"),a}}},J=Y,X=Object(S["a"])(J,W,Q,!1,null,null,null);X.options.__file="InputDatetime.vue";var Z=X.exports,tt={name:"InputDatetimeRange",components:{InputDatetime:Z},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{valueRaw:this.value}},computed:{valueRaw1:{get:function(){if(!this.valueRaw)return"";var t=this.valueRaw.toString().split(";");return t[0]},set:function(t){this.valueRaw=this.valueRawBuild(t,this.valueRaw2)}},valueRaw2:{get:function(){if(!this.valueRaw)return"";var t=this.valueRaw.toString().split(";");return t[1]},set:function(t){this.valueRaw=this.valueRawBuild(this.valueRaw1,t)}}},watch:{value:function(){this.valueRaw=this.value}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})},valueRawBuild:function(t,e){if(!t&&e)t=e;else if(t&&e){var n=this.$tools.mysql2date(t).getTime(),a=this.$tools.mysql2date(e).getTime();if(n>a)return[e,t].join(";")}return[t,e].join(";")}}},et=tt,nt=(n("91e0"),Object(S["a"])(et,V,K,!1,null,"bdeff888",null));nt.options.__file="InputDatetimeRange.vue";var at=nt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.valueRaw,expression:"valueRaw"}],ref:"input",attrs:{disabled:t.disabled},domProps:{value:t.getValue(t.value)},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.valueRaw=e.target.multiple?n:n[0]}}},t._l(t.options,function(e,a){return n("option",{key:a,domProps:{value:t.getValue(e),innerHTML:t._s(t.getLabel(e))}})}))},st=[],rt={name:"InputSelect",props:{value:{type:[Object,String,Number],default:null},options:{type:[Object,Array],default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{valueRaw:this.value}},computed:{},watch:{value:function(){this.valueRaw=this.getValue(this.value)},valueRaw:function(){this.$emit("input",this.valueRaw)}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})},getValue:function(t){return t?"object"===Object(s["a"])(t)&&t.value?t.value:t:null},getLabel:function(t){return"object"===Object(s["a"])(t)&&t.label?t.label:"object"===Object(s["a"])(t)&&t.value?t.value:t}}},ot=rt,lt=Object(S["a"])(ot,it,st,!1,null,null,null);lt.options.__file="InputSelect.vue";var ut=lt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.valueRaw,expression:"valueRaw",modifiers:{number:!0}}],ref:"input",attrs:{disabled:t.disabled,type:"number"},domProps:{value:t.valueRaw},on:{input:function(e){e.target.composing||(t.valueRaw=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})},dt=[],ht={name:"InputNumber",props:{value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1}},data:function(){return{valueRaw:this.value}},computed:{},watch:{value:function(){this.valueRaw=this.value},valueRaw:function(){this.$emit("input",this.valueRaw)}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})}}},ft=ht,pt=Object(S["a"])(ft,ct,dt,!1,null,null,null);pt.options.__file="InputNumber.vue";var mt=pt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueRaw,expression:"valueRaw"}],ref:"input",attrs:{disabled:t.disabled,type:"text"},domProps:{value:t.valueRaw},on:{input:function(e){e.target.composing||(t.valueRaw=e.target.value)}}})},bt=[],gt={name:"InputText",props:{value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1}},data:function(){return{valueRaw:this.value}},computed:{},watch:{value:function(){this.valueRaw=this.value},valueRaw:function(){this.$emit("input",this.valueRaw)}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})}}},_t=gt,yt=Object(S["a"])(_t,vt,bt,!1,null,null,null);yt.options.__file="InputText.vue";var wt=yt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("InputSelect",{staticClass:"part part-0",attrs:{options:t.types,disabled:t.disabled,value:t.parts.name},on:{input:t.updateName}}),t.editor?n("div",{staticClass:"type-more"},[t.editor?n(t.editor,{tag:"component",attrs:{length:t.parts.length,attribute:t.parts.attribute},on:{length:t.updateLength,attribute:t.updateAttribute}}):t._e()],1):t._e()],1)},$t=[],xt=(n("7f7f"),n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("InputNumber",{ref:"input",staticClass:"part part-1",attrs:{disabled:t.disabled,placeholder:"Size"},model:{value:t.lengthModel,callback:function(e){t.lengthModel=e},expression:"lengthModel"}}),n("InputSelect",{staticClass:"part part-2",attrs:{options:t.unsigneds,disabled:t.disabled},model:{value:t.attributeModel,callback:function(e){t.attributeModel=e},expression:"attributeModel"}})],1)}),Tt=[],Et={name:"InputType",components:{InputSelect:ut,InputNumber:mt},props:{length:{type:[Number,String],required:!1,default:null},attribute:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},computed:{unsigneds:function(){return["","unsigned","unsigned zerofill"]},lengthModel:{get:function(){return this.length},set:function(t){this.$emit("length",t)}},attributeModel:{get:function(){return this.attribute},set:function(t){this.$emit("attribute",t)}},typeEnum:{get:function(){return this.parts.length},set:function(t){this.changeValue(t,"length")}}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})}}},St=Et,Rt=Object(S["a"])(St,xt,Tt,!1,null,null,null);Rt.options.__file="InputTypeNumeric.vue";var Ot=Rt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("InputNumber",{ref:"input",staticClass:"part part-1",attrs:{disabled:t.disabled,placeholder:"Size"},model:{value:t.lengthModel,callback:function(e){t.lengthModel=e},expression:"lengthModel"}})],1)},It=[],Lt={name:"InputType",components:{InputNumber:mt},props:{length:{type:[Number,String],required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},computed:{lengthModel:{get:function(){return this.length},set:function(t){this.$emit("length",t)}}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})}}},Bt=Lt,Mt=Object(S["a"])(Bt,Ct,It,!1,null,null,null);Mt.options.__file="InputTypeChar.vue";var qt=Mt.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"enum-editor"},[t.editorActive?t._e():n("div",{staticClass:"enum-editor-simple"},[n("InputText",{ref:"input",staticClass:"part part-1",attrs:{disabled:t.disabled,placeholder:"Set of values"},model:{value:t.lengthModel,callback:function(e){t.lengthModel=e},expression:"lengthModel"}}),n("LinkBase",{attrs:{button:!0,icon:"pen"},on:{click:function(e){t.editorActivate()}}})],1),t.editorActive?n("div",{staticClass:"enum-editor-list"},t._l(t.values,function(e,a){return n("div",{key:a,staticClass:"enum-editor-list-item"},[n("InputText",{attrs:{disabled:t.disabled,placeholder:"Set of values"},model:{value:t.values[a],callback:function(e){t.$set(t.values,a,e)},expression:"values[index]"}}),n("LinkBase",{attrs:{button:!0,icon:"trash"},on:{click:function(e){t.remove(a)}}})],1)})):t._e(),t.editorActive?n("div",{staticClass:"enum-editor-list-actions"},[n("LinkBase",{attrs:{button:!0,icon:"plus"},on:{click:function(e){t.add()}}}),n("LinkBase",{attrs:{button:!0,icon:"check"},on:{click:function(e){t.editorApply()}}}),n("LinkBase",{attrs:{button:!0,icon:"times"},on:{click:function(e){t.cancel()}}})],1):t._e()])},Nt=[],Dt={name:"InputTypeEnum",components:{InputText:wt},props:{length:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{editorActive:!1,values:this.$valset.parse(this.length)}},computed:{lengthModel:{get:function(){return this.length},set:function(t){this.$emit("length",t)}}},watch:{length:function(){this.values=this.$valset.parse(this.length)}},methods:{remove:function(t){this.values.splice(t,1)},cancel:function(){this.values=this.$valset.parse(this.length),this.editorDisactivate()},editorApply:function(){var t=this,e=this.values.map(function(e){return"'"+t.$valset.doquotes(e)+"'"});this.lengthModel=e.join(","),this.editorDisactivate()},editorActivate:function(){this.editorActive=!0},editorDisactivate:function(){this.editorActive=!1},add:function(){this.values.push("")},editor:function(){},focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})}}},At=Dt,Pt=(n("d321"),Object(S["a"])(At,jt,Nt,!1,null,null,null));Pt.options.__file="InputTypeEnum.vue";var Ft=Pt.exports,Ht={name:"InputType",components:{InputSelect:ut,InputTypeChar:qt,InputTypeNumeric:Ot,InputTypeEnum:Ft},props:{value:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},computed:{types:function(){return Object.assign([],this.$store.state.parser.mysql.types)},editor:function(){var t=this,e=this.types.find(function(e){return e.value===t.parts.name});if(!e)return null;switch(e.block){case"numeric":case"decimal":return"InputTypeNumeric";case"char":return"InputTypeChar";case"sets":return"InputTypeEnum";default:return null}},parts:function(){var t={name:null,length:null,attribute:null},e=this.value?this.value.toString():"",n=e.split("(",2),a=n[0],i=n[1]?n[1]:"";t.name=a;var s=this.types.find(function(t){return t.value===a});if(!s)return t;switch(s.block){case"numeric":case"decimal":case"char":var r=i.split(")",2);t.length=r[0],t.attribute=r[1]?r[1].substr(1):null;break;case"sets":t.length=i.substr(0,i.length-1);break}return t}},methods:{updateName:function(t){this.changeValue(t,"name")},updateAttribute:function(t){this.changeValue(t,"attribute")},updateLength:function(t){this.changeValue(t,"length")},focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})},changeValue:function(t,e){var n=Object.assign({},this.parts),a=[];n[e]=t,a.push(n.name),null!==n.length&&0!=n.length&&a.push("(".concat(n.length,")")),null!==n.attribute&&a.push(" ".concat(n.attribute)),this.$emit("input",a.join(""))}}},zt=Ht,Gt=(n("92ac"),Object(S["a"])(zt,kt,$t,!1,null,"6827df5c",null));Gt.options.__file="InputType.vue";var Ut=Gt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.valueRaw,expression:"valueRaw"}],ref:"input",attrs:{disabled:t.disabled,type:"text"},domProps:{value:t.valueRaw},on:{input:function(e){e.target.composing||(t.valueRaw=e.target.value)}}})},Kt=[],Wt={name:"InputTextarea",props:{value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1}},data:function(){return{valueRaw:this.value}},computed:{},watch:{value:function(){this.valueRaw=this.value},valueRaw:function(){this.$emit("input",this.valueRaw)}},mounted:function(){if(this.$refs["input"]){var t=this.$refs.input.offsetHeight,e=this.$refs.input.scrollHeight,n=18;if(t>0){var a=e/n,i=Math.abs(e-Math.round(a)*n);a=Math.min(a,5),a>1&&(this.$refs.input.style.height=n*a+i+"px")}}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})}}},Qt=Wt,Yt=(n("5c39"),Object(S["a"])(Qt,Vt,Kt,!1,null,"dd08c866",null));Yt.options.__file="InputTextarea.vue";var Jt=Yt.exports,Xt={name:"InputBase",components:{InputTextarea:Jt,InputText:wt,InputNumber:mt,InputDatetime:Z,InputDatetimeRange:at,InputSelect:ut,InputType:Ut},props:{type:{type:String,default:"text",required:!1},value:{type:[String,Number,Boolean,Object,Array],default:"",required:!1},disabled:{type:Boolean,default:!1,required:!1},options:{type:[Array,Object],default:function(){return[]},required:!1},placeholder:{type:String,default:"",required:!1}},data:function(){return{valueRaw:this.value}},computed:{parameters:function(){return{class:["input-base","input-"+this.type,{disabled:this.disabled}],ref:"input",options:this.options,placeholder:this.placeholder,disabled:this.disabled}}},watch:{value:function(){this.valueRaw=this.value},valueRaw:function(){this.$emit("input",this.valueRaw)}},methods:{focus:function(){var t=this;this.$nextTick(function(){t.$refs["input"].focus()})},is:function(t){return t===this.type}}},Zt=Xt,te=(n("6395"),Object(S["a"])(Zt,G,U,!1,null,null,null));te.options.__file="InputBase.vue";var ee=te.exports,ne={name:"DataGridFilter",components:{InputBase:ee},props:{right:{type:Boolean,default:!1},type:{type:String,default:"text"},value:{type:[String,Number,Boolean],default:""},collation:{type:String,default:""},width:{type:Number,default:0}},data:function(){return{valueRaw:this.value,collationRaw:this.collation}},computed:{style:function(){return{width:this.width+"px"}},collations:function(){return["=",{value:"!=",label:"≠  (!=)"},"<",">",{value:"<=",label:"≤  (<=)"},{value:">=",label:"≥ (<=)"},{value:"IN",label:"⊂  (IN)"},{value:"LIKE",label:"≈  (LIKE)"},{value:"BETWEEN",label:"∈  (BETWEEN)"}]},showClear:function(){return null!==this.value}},watch:{value:function(){this.valueRaw=this.value}},destroyed:function(){window.removeEventListener("click",this.close)},mounted:function(){if(this.$refs.container&&this.right){var t=this.$refs.container.offsetWidth;this.$refs.container.style.marginLeft=-t+"px"}this.$refs.filter&&this.$refs.filter.focus()},methods:{eventOver:function(){window.removeEventListener("click",this.close)},eventOut:function(){window.addEventListener("click",this.close)},checkKeyup:function(t){"Enter"===t.key&&(t.shiftKey?this.clear():this.apply())},checkKeydown:function(t){"Escape"===t.key&&this.close()},apply:function(){this.valueRaw||(this.valueRaw=""),this.$emit("apply",{value:this.valueRaw,collation:this.collationRaw})},clear:function(){this.valueRaw="",this.collationRaw="=",this.$emit("clear")},close:function(){this.$emit("close")}}},ae=ne,ie=(n("37ab"),Object(S["a"])(ae,H,z,!1,null,"50c914c8",null));ie.options.__file="DataGridFilter.vue";var se,re,oe=ie.exports,le={computed:{searchOnPage:{get:function(){return this.$store.state.search},set:function(t){this.$store.commit("search",t)}},searchSkip:{get:function(){return this.$store.state.searchSkip},set:function(t){this.$store.commit("searchSkip",t)}},found:{get:function(){return this.$store.state.searchFound},set:function(t){this.$store.commit("searchFound",t)}}},methods:{foundOut:function(t,e){if(t!=this.found)return 0==e?t:"";var n=this.searchOnPage.toString().trim().toLowerCase(),a=t.toLowerCase(),i=a.indexOf(n),s=n.length;switch(e){case 0:return t.substr(0,i);case 1:return t.substr(i,s);case 2:return t.substr(i+s)}return this.searched},searchClear:function(){this.searchOnPage=null},searchExecute:function(t,e){var n=this,a=t.split(",");return a.length>1?a.some(function(t){return n.searchString(t.trim(),e)}):this.searchString(t,e)},searchString:function(t,e){if(""===t)return!0;if(""===e||null===e)return!1;var n=t.toLowerCase(),a="object"!==Object(s["a"])(e)?[e]:e;return a.some(function(t){return t.toString().toLowerCase().indexOf(n)>-1})},searchRegExp:function(t){if(!1===t&&(t=this.searchOnPage),!t)return!1;var e=t.toString().split(","),n=[];return e.forEach(function(t){var e=t.toString().trim();""!==e&&n.push(e)}),!!n.length&&new RegExp(n.join("|"),"gi")}}},ue=le,ce=Object(S["a"])(ue,se,re,!1,null,null,null);ce.options.__file="Search.vue";var de=ce.exports,he={name:"DataGridHead",components:{DataGridFilter:oe},mixins:[de],props:{order:{type:[Object,Boolean],default:!1,required:!1},filters:{type:[Object,Boolean],default:!1,required:!1},fields:{type:Array,required:!0},controls:{type:Array,default:function(){return[]}},control:{type:String,default:""},copy:{type:Boolean,default:!1},disableFilters:{type:Boolean,default:!1}},data:function(){return{filter:""}},methods:{filterRight:function(t){switch(this.fields.length){case 1:return!0;case 2:return 2===t;case 3:return t>1;default:return t>=this.fields.length-2}},filterHolderClasses:function(t){return["filter-holder",{"filter-holder-right":this.filterRight(t)}]},filterCallerClasses:function(t){return["filter-caller",{active:this.getFilterExists(t)}]},getFilterExists:function(t){return!(!this.filters||!this.filters[t])},getFilterValue:function(t){return this.filters&&this.filters[t]?this.filters[t].value:null},getFilterCollation:function(t){return this.filters&&this.filters[t]?this.filters[t].collation:"="},closeFilters:function(){this.filter=""},applyFilter:function(t){var e=this.filters?this.filters:{};e[this.filter]=t,this.$emit("filters",e),this.closeFilters()},clearFilter:function(){var t=this.filters?this.filters:{};t[this.filter]&&delete t[this.filter],this.$emit("filters",t),this.closeFilters()},orderMark:function(t){return this.order&&t===this.order.field?this.order.desc?"▼":"▲":""},applyOrder:function(t){var e=this.order?this.order:{field:"",desc:!1},n=e.field===t&&!e.desc;this.$emit("order",{field:t,desc:n})},filterWidth:function(t){return this.$refs["th"][t].offsetWidth},showFilter:function(t){this.filter=t}}},fe=he,pe=(n("46d3"),Object(S["a"])(fe,P,F,!1,null,"1c616618",null));pe.options.__file="DataGridHead.vue";var me=pe.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[t._l(t.buttons,function(e,a){return n("th",{key:a,staticClass:"control",attrs:{title:t.control}},[n("LinkBase",{attrs:{to:e.to,button:!0,icon:e.icon}})],1)}),t._l(t.data,function(e,a){return n("DataGridCol",{key:a,class:{ordered:a===t.order},attrs:{value:e}})})],2)},be=[],ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.noEmpty?n("td",[t._v(" "+t._s(t._f("notTooLong")(t.value))+" ")]):n("td",{staticClass:"no-value"},[t._v(" — ")])},_e=[],ye={name:"DataGridCol",filters:{notTooLong:function(t){var e=32;return t&&t.length>e?t.substr(0,e)+"...":t}},props:{value:{type:[String,Number,Array,Object,Boolean],required:!1,default:""}},computed:{noEmpty:function(){return!(""===this.value||null===this.value)}}},we=ye,ke=(n("56a3"),Object(S["a"])(we,ge,_e,!1,null,"dc84f856",null));ke.options.__file="DataGridCol.vue";var $e,xe,Te=ke.exports,Ee={computed:{loading:function(){return this.$store.state.loading},database:function(){return this.$route.params.database},table:function(){return this.$route.params.table},action:function(){return this.$route.params.action?this.$route.params.action:null},entity:function(){return this.$route.params.entity?this.$route.params.entity:null}}},Se=Ee,Re=Object(S["a"])(Se,$e,xe,!1,null,null,null);Re.options.__file="Routes.vue";var Oe=Re.exports,Ce={name:"DataGridRow",components:{DataGridCol:Te},mixins:[Oe],props:{controls:{type:Array,default:function(){return[]}},control:{type:[String,Number],default:""},order:{type:String,default:""},data:{type:[Object,Array],required:!0}},computed:{buttons:function(){var t=this;return this.control&&this.controls.length?this.controls.map(function(e){return t.goTo(e)}):[]}},methods:{goTo:function(t){switch(t){case"database":return{to:{name:"database-content",params:{database:this.control}},icon:t};case"table":return{to:{name:"table-content",params:{table:this.control}},icon:"folder"};case"edit":return{to:{name:this.$route.name+"-edit",params:{entity:this.control}},icon:"pen"};case"copy":return{to:{name:this.$route.name+"-copy",params:{entity:this.control}},icon:"clone"}}return""}}},Ie=Ce,Le=Object(S["a"])(Ie,ve,be,!1,null,null,null);Le.options.__file="DataGridRow.vue";var Be=Le.exports,Me={name:"DataGrid",components:{DataGridHead:me,DataGridRow:Be,DataGridPagination:A,InputBase:ee,TheActions:B},mixins:[de],props:{data:{type:[Object,Array,String,Number],default:""},fields:{type:Array,default:function(){return[]}},total:{type:Number,default:0},limit:{type:Number,default:30},offset:{type:Number,default:0},order:{type:Object,default:function(){return{order:"",desc:!1}}},filters:{type:Object,default:function(){return{}}},controls:{type:Array,default:function(){return[]}},control:{type:String,default:""},disableFilters:{type:Boolean,default:!1}},data:function(){return{marked:-1}},computed:{noTable:function(){return"object"!=Object(s["a"])(this.data)},loading:function(){return this.$store.state.loading},dataOut:function(){var t=this,e=[],n=[],a=[];return this.data?(this.data.forEach(function(i,s){var r={},o=!1;t.fieldsOut.forEach(function(t){var e=i[t];r[t]=e}),n.push(t.control?i[t.control]:null),e.push(r),a.push(o?i[t.control]:s)}),{rows:e,controls:n,indices:a}):{rows:e,controls:n}},fieldsAll:function(){return Object.keys(this.data[0])},fieldsOut:function(){var t=[];return this.checkSearch(),!this.data&&this.filters?[]:!this.data.length&&this.filters?(t=Object.keys(this.filters),t):this.data.length?this.fieldsAll:[]}},methods:{checkSearch:function(){var t=this;this.found="";var e=this.searchRegExp(this.searchOnPage),n=this.fieldsAll,a=-1,i=0;if(!e)return!1;var s=null;return n.forEach(function(n){e&&n.toString().search(e)>-1&&(i++,(!s||a<t.searchSkip)&&(s=document.getElementById("th-"+n),a++,s&&(t.found=n,window.scrollTo({top:0,left:s.offsetLeft,behavior:"smooth"}))))}),this.$store.commit("searchMax",i),!0},needResetFilters:function(){for(var t in this.filters)if(this.filters[t]&&this.filters[t].collation)return!0;return!1},reload:function(){this.$emit("reload")},rowClass:function(t){var e=this.dataOut.indices[t];return this.marked===e?{marked:!0}:{}},markRow:function(t){var e=this.dataOut.indices[t];this.marked=this.marked!==e?e:-1},resetFilters:function(){this.changeFilters({})},changeOrder:function(t){this.$emit("order",t)},changeFilters:function(t){this.$emit("filters",t)},changeOffset:function(t){this.$emit("offset",t)}}},qe=Me,je=(n("fed0"),Object(S["a"])(qe,_,y,!1,null,null,null));je.options.__file="DataGrid.vue";var Ne,De,Ae=je.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",attrs:{id:"code-editor"},on:{click:t.update}},[n("div",{ref:"styled",attrs:{id:"code-editor-styled"},domProps:{innerHTML:t._s(t.textStyled)}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textRaw,expression:"textRaw"}],ref:"raw",attrs:{id:"code-editor-raw"},domProps:{value:t.textRaw},on:{input:[function(e){e.target.composing||(t.textRaw=e.target.value)},t.update]}})])},Fe=[],He={methods:{breakerGetClean:function(t){for(var e=this.breakerMain(t),n=1;n<e.length;n+=2)e[n]=this.spaces(e[n].length);return e.join("")},breakerGetParts:function(t){return this.breakerMain(t)},breakerMain:function(t){var e=this.breakerPoints(t),n=[],a=0;return e.forEach(function(e,i){i%2===0?(n.push(t.substr(a,e-a)),a=e):(n.push(t.substr(a,e-a+1)),a=e+1)}),n.push(t.substr(a)),n},removeQuotes:function(t){var e=["`","'",'"'],n=e.map(function(t){return""+t}),a=new RegExp(n.join("|"),"gi");return t.replace(a,"")},breakerPoints:function(t){for(var e,n=["`","'",'"'],a=[],i=-1,s=0;s<t.length;s++)if(-1===i)e=n.indexOf(t.substr(s,1)),e>-1&&(a.push(s),i=n[e]);else{var r=s>0?t.substr(s-1,1):"";e=t.substr(s,1),e===i&&"\\"!==r&&(a.push(s),i=-1)}return a},spaces:function(t){for(var e="",n=0;n<t;n++)e+="-";return e}}},ze=He,Ge=Object(S["a"])(ze,Ne,De,!1,null,null,null);Ge.options.__file="Breaker.vue";var Ue=Ge.exports,Ve={name:"CodeEditor",mixins:[Ue],props:{keywords:{type:[Object,Array],required:!0},text:{type:String,default:""}},data:function(){return{textInput:"",textRaw:""}},computed:{keywordsRegExp:function(){var t=this.keywords.map(function(t){return"\\b"+t+"\\b"});return new RegExp(t.join("|"),"gi")},textStyled:function(){for(var t=this.textRaw.replace(/\n/g,"<br>"),e=this.breakerGetParts(t),n=0;n<e.length;n+=2)e[n]=e[n].replace(this.keywordsRegExp,this.replacer);return e.join("")}},watch:{text:function(t){t!==this.textRaw&&(this.textRaw=this.text)}},mounted:function(){this.textRaw=this.text},methods:{replacer:function(t){return'<span class="keyword">'+t+"</span>"},update:function(){var t=this.$refs.container.offsetHeight;this.$refs.raw.style.height="1px";var e=this.$refs.raw.scrollHeight+25;this.$refs.raw.style.height=e>t?e+"px":"100%",this.$emit("input",this.textRaw)}}},Ke=Ve,We=(n("cb87"),Object(S["a"])(Ke,Pe,Fe,!1,null,null,null));We.options.__file="CodeEditor.vue";var Qe,Ye,Je=We.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},Ze=[],tn={methods:{processSelect:function(t){if(t.select="SQL_CALC_FOUND_ROWS"+t.select,this.state.order&&this.state.order.field){var e="";e="`"+this.state.order.field+"`",this.state.order.desc&&(e+=" DESC"),t["order by"]?t["order by"]=e+", "+t["order by"]:t["order by"]=e}if(this.state.filters){var n=[];for(var a in this.state.filters){var i=this.state.filters[a].value.toString(),s=this.state.filters[a].collation,r=!0;switch(s){case"LIKE":i=i.replace(/'/g,"\\'"),i="LOWER('%".concat(i,"%')"),n.push("LOWER(".concat(a,") ").concat(s," ").concat(i)),r=!1;break;case"BETWEEN":i=i.replace(/'/g,"\\'");break;case"IN":var o=i.split(","),l=o.map(function(t){return"'"+t.toString().trim().replace(/'/g,"\\'")+"'"});i="("+l.join(", ")+")";break;default:i=i.replace(/'/g,"\\'"),i="'".concat(i,"'");break}r&&n.push("`".concat(a,"` ").concat(s," ").concat(i))}if(n.length>0){var u=n.join(" AND ");t["where"]=t["where"]?"("+t["where"]+") AND "+u:u}}var c=30,d=0;if(t.limit){this.pagination=!1;var h=[],f=t.limit.toString().toLowerCase();f=f.replace(/ /g,""),f.indexOf("offset")>0?(h=f.split("offset"),c=h[0],d=h[1]):(h=f.split(","),1===h.length?(c=h[0],d=0):(c=h[1],d=h[0])),isNaN(c)&&(c=30),isNaN(d)&&(d=0),c=Math.min(c,100)}else this.state.limit&&this.state.limit>-1&&(c=this.state.limit),this.state.offset&&this.state.offset>-1&&(d=this.state.offset),this.pagination=!0;return t.limit="".concat(d,", ").concat(c),t}}},en=tn,nn=Object(S["a"])(en,Qe,Ye,!1,null,null,null);nn.options.__file="QueryParserSelect.vue";var an=nn.exports,sn={name:"QueryParser",mixins:[Ue,an],props:{query:{type:[String,Array],default:""},state:{type:Object,default:function(){return{}}}},data:function(){return{pagination:!1}},computed:{keywords:function(){return this.$store.state.parser.mysql.keywords},queries:function(){return this.$store.state.parser.mysql.queries},types:function(){return Object.keys(this.queries)},type:function(){var t,e=this,n=-1;return this.types.forEach(function(a){var i=new RegExp("\\b"+a+"\\b","i"),s=i.exec(e.queryClean);s&&(s.index<n||-1===n)&&(n=s.index,t=a)}),t},queryClean:function(){return this.breakerGetClean(this.query)},table:function(){var t="";switch(this.type){case"select":t=this.blocks["from"]}if(!t)return"";t=t.toString().trim(),t=t.split(" ")[0];var e=t.split(".");return t=e[e.length-1],t=this.removeQuotes(t),t},blocks:function(){return this.state.updated,!!this.query&&this.processBlocks(this.getBlocks())},processed:function(){var t=[];for(var e in this.blocks){var n=this.blocks[e].toString().trim();t.push(e.toUpperCase()),t.push(n)}return t.join(" ")}},watch:{processed:function(){this.emitProcessed()}},mounted:function(){this.emitProcessed()},methods:{processBlocks:function(t){switch(this.type){case"select":t=this.processSelect(t);break}return this.reorderBlocks(t)},getBlocks:function(){var t=this.queries[this.type],e=-1,n={},a="";for(var i in t){var s=t[i],r=new RegExp("\\b"+s+"\\b","i");r.lastIndex=e;var o=r.exec(this.queryClean);o&&(e=o.index+s.length,n[s]={start:e,end:this.queryClean.length},""!==a&&(n[a].end=o.index),a=s)}var l={};for(var u in n){var c=this.query.substr(n[u].start,n[u].end-n[u].start);c=c.replace(new RegExp("^[;]+|[;]+$","g"),""),l[u]=c}return l},reorderBlocks:function(t){var e={},n=this.queries[this.type];for(var a in n){var i=n[a];t[i]&&(e[i]=t[i])}return e},emitProcessed:function(){this.$emit("input",{query:this.processed,type:this.type,table:this.table,pagination:this.pagination})}}},rn=sn,on=Object(S["a"])(rn,Xe,Ze,!1,null,null,null);on.options.__file="QueryParser.vue";var ln=on.exports,un={name:"TablesShow",components:{DataGrid:Ae,CodeEditor:Je,QueryParser:ln},mixins:[Oe],data:function(){return{loaded:!1,total:0,queryRaw:"",pagination:!1,processed:{query:"",type:"",pagination:!1},answer:[],fields:[],state:{updated:0,offset:0,limit:10,filters:{},order:{field:"table_schema",desc:!1}}}},computed:{controls:function(){return this.database?["table"]:["database"]},onpage:function(){return 1*this.$store.state.onpage},showDatabases:function(){return!this.database},keywords:function(){return this.$store.state.parser.mysql.keywords},control:function(){return this.showDatabases?"table_schema":"table_name"}},watch:{table:function(){this.updateTable()},database:function(){this.updateTable()},action:function(){this.updateTable()},onpage:function(){this.state.offset=0,this.updateTable()}},mounted:function(){this.updateTable()},methods:{processBytes:function(t){for(var e=this.$store.state.constants.sizeunits,n=0;n<=3;n++)if(t<e[n+1].bytes)return Math.round(t/e[n].bytes*100)/100+" "+e[n].label;return"> 1TB"},processValue:function(t,e){switch(t){case"data_length":case"index_length":case"data_size":case"index_size":return this.processBytes(Number(e));default:return e}},processRow:function(t){var e={};for(var n in t)e[n]=this.processValue(n,t[n]);return e},process:function(t){var e=this;return t.map(function(t){return e.processRow(t)})},send:function(){var t=this;this.state.limit=this.onpage,this.pagination=this.processed.pagination,this.$connection.fetch("raw",{database:this.database,query:this.processed.query}).then(function(e){t.loaded=!0,"string"===typeof e?(t.answer=e,t.total=0,t.pagination=!1,t.processed.table=""):(t.answer=t.process(e.data),t.total=Number(e.total))})},updateTable:function(){var t=this;this.state.offset=0,this.state.limit=this.onpage,this.state.order.field=this.showDatabases?"table_schema":"table_name",this.state.filters={},this.state.order.desc=!1;var e=this.showDatabases?"databasesSchema":"tablesSchema";""!=this.database&&""!=this.table?(this.queryRaw=this.$connection.prepare(e,{database:this.database}).query,this.$nextTick(function(){t.send()})):(this.queryRaw="",this.answer="")},reload:function(){this.send()},changeOrder:function(t){this.changeState("order",t)},changeOffset:function(t){this.changeState("offset",t)},changeFilters:function(t){this.state.offset=0,this.changeState("filters",t)},changeState:function(t,e){var n=this;this.state[t]=e,this.state.updated++,this.$nextTick(function(){n.send()})}}},cn=un,dn=Object(S["a"])(cn,b,g,!1,null,null,null);dn.options.__file="Tables.vue";var hn=dn.exports,fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("DataEditor",{attrs:{data:t.data,insert:null===t.table},on:{update:t.update,insert:t.copy,del:t.del,change:t.change}},[n("LinkBase",{attrs:{button:!0,icon:"copy",label:"copy_struct"},on:{click:function(e){t.insert()}}}),n("LinkBase",{attrs:{button:!0,icon:"eraser",label:"truncate"},on:{click:function(e){t.truncate()}}})],1):t._e(),n("transition",{attrs:{name:"modal"}},[t.mutations.length?n("TheMutator",{attrs:{mutations:t.mutations},on:{complete:t.complete}}):t._e()],1)],1)},pn=[],mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"editor",staticClass:"editor"},[0===t.dataOut.length?n("div",{staticClass:"nothing-message"},[t._v("\n    "+t._s(t.$dict.get().norows)+"\n  ")]):t._e(),t._l(t.dataOut,function(e){return n("div",{key:e.index,staticClass:"field"},[n("div",{staticClass:"label",attrs:{id:"label-"+e.label}},[t._v("\n      "+t._s(t.foundOut(e.label,0))),e.label==t.found?n("span",{staticClass:"found"},[t._v(t._s(t.foundOut(e.label,1)))]):t._e(),t._v(t._s(t.foundOut(e.label,2))+"\n      "),e.info?n("div",{staticClass:"info",domProps:{innerHTML:t._s(e.info)}}):t._e()]),n("div",{staticClass:"value"},[n("InputBase",{class:t.classes(e),attrs:{type:e.type,options:e.options,disabled:e.disabled},model:{value:t.values[e.index],callback:function(n){t.$set(t.values,e.index,n)},expression:"values[item.index]"}})],1)])}),n("TheActions",[t.insert?t._e():n("LinkBase",{attrs:{disabled:0===t.changed,button:!0,icon:"check",label:"save"},on:{click:function(e){t.update()}}}),t.insert?t._e():n("LinkBase",{attrs:{disabled:0===t.changed,button:!0,icon:"undo",label:"reset"},on:{click:function(e){t.reset()}}}),t.insert?t._e():n("LinkBase",{attrs:{button:!0,icon:"copy",label:"copy"},on:{click:function(e){t.copy()}}}),t.insert?n("LinkBase",{attrs:{button:!0,icon:"check",label:"add"},on:{click:function(e){t.copy()}}}):t._e(),t._t("default"),t.insert?t._e():n("LinkBase",{attrs:{button:!0,icon:"trash",label:"del"},on:{click:function(e){t.del()}}})],2)],2)},vn=[],bn={name:"DataEditor",components:{InputBase:ee,TheActions:B},mixins:[de],props:{data:{type:Array,required:!0},insert:{type:Boolean,required:!1,default:!1}},data:function(){return{values:this.extractValues(),dataUpdated:!1}},computed:{dataOut:function(){return this.data&&this.data.length?(this.checkSearch(),this.setUpdated(),this.data):[]},changed:function(){var t=this,e=0;return this.data.forEach(function(n,a){e+=t.values[a]!=n.value}),this.change(),e}},watch:{data:function(){this.values=this.extractValues()},dataUpdated:function(t){if(!t)return!1;this.$el.querySelector(".value-input-active").focus()}},mounted:function(){},methods:{checkSearch:function(){var t=this;this.found="";var e=this.searchRegExp(this.searchOnPage);if(!e)return!1;var n=-1,a=0,i=null;return this.data.forEach(function(s){if(s.label.toString().search(e)>-1&&(a++,!i||n<t.searchSkip)){i=document.getElementById("label-"+s.label);var r=t.$refs.editor?t.$refs.editor.offsetTop:0;i&&(n++,t.found=s.label,window.scrollTo({top:i.offsetTop-r,left:0,behavior:"smooth"}))}}),this.$store.commit("searchMax",a),!0},classes:function(t){return{"value-input":!0,"value-input-active":!t.disabled}},setUpdated:function(){this.dataUpdated=!0},collectData:function(t){var e=this,n=this.data.map(function(n,a){var i=Object.assign({},n);return i.disabled||e.values[a]==i.value&&!t?i.changed=!1:(i.value=e.values[a],i.changed=!0),i},this);return n},extractValues:function(){return this.data.map(function(t){return t.value})},del:function(){this.$emit("del",this.collectData(!0))},change:function(){this.$emit("change",this.collectData(!0))},copy:function(){this.$emit("insert",this.collectData(!0))},update:function(){this.$emit("update",this.collectData())},reset:function(){this.values=this.extractValues()}}},gn=bn,_n=(n("dcdc"),Object(S["a"])(gn,mn,vn,!1,null,"1d487260",null));_n.options.__file="DataEditor.vue";var yn=_n.exports,wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TheModalBase",{staticClass:"modal-mutator",attrs:{header:t.$dict.get().confirm_action,footer:t.queriesShow,actions:!0},on:{close:t.close}},[t.done?t._e():n("template",{slot:"actions"},[n("LinkBase",{attrs:{button:!0},on:{click:t.doYes}},[t._v(t._s(t.$dict.get().mutator_yes)),n("br"),t._v("(Ctrl + Enter)")]),n("LinkBase",{attrs:{button:!0},on:{click:t.close}},[t._v(t._s(t.$dict.get().mutator_no)),n("br"),t._v("(Escape)")])],1)],2)},kn=[],$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"modal-fog"},on:{click:function(e){return e.stopPropagation(),t.click(e)}}},[n("div",{attrs:{id:"modal-container"}},[t.header?n("div",{attrs:{id:"modal-header"}},[t._v(t._s(t.header))]):t._e(),t.body?n("div",{attrs:{id:"modal-body"}},[t._v(t._s(t.body))]):t._e(),t._t("body"),t.footerOut.length>0?n("div",{attrs:{id:"modal-footer"}},[t._l(t.footerOut,function(e,a){return n("p",{key:a},[t._v(t._s(e)+"\n      ")])}),t._t("footer")],2):t._e(),t.$slots.actions?n("div",{attrs:{id:"modal-actions"}},[t._t("actions")],2):n("div",{attrs:{id:"modal-postscriptum"}},[t._v("\n      "+t._s(t.$dict.get().clickerror)+"\n    ")])],2)])},xn=[],Tn={name:"TheModalBase",props:{header:{type:String,default:""},body:{type:String,default:""},footer:{type:[String,Array],default:""}},computed:{footerOut:function(){return this.footer?"string"===typeof this.footer?[this.footer]:this.footer:[]}},mounted:function(){window.addEventListener("keydown",this.checkKeydown),this.$store.commit("modal",1),this.$store.commit("navBlock",1)},destroyed:function(){window.removeEventListener("keydown",this.checkKeydown),this.$store.commit("modal",-1),this.$store.commit("navBlock",-1)},methods:{checkKeydown:function(t){"Escape"===t.key&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())},click:function(t){return!this.$slots.actions&&((t.ctrlKey||t.shiftKey)&&this.copy(),this.close(),!0)},copy:function(){var t=document.createElement("input"),e=document.getElementsByTagName("body")[0];e.appendChild(t),t.value=this.body,t.select(),document.execCommand("copy"),e.removeChild(t)},close:function(){this.$emit("close")}}},En=Tn,Sn=(n("cf40"),Object(S["a"])(En,$n,xn,!1,null,null,null));Sn.options.__file="TheModalBase.vue";var Rn=Sn.exports,On={name:"TheMutator",components:{TheModalBase:Rn},props:{mutations:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{done:!1,status:"reject",result:null}},computed:{show:function(){return this.mutations.length>0},queriesShow:function(){var t=this;return this.show?this.mutations.map(function(e,n){var a=t.$connection.prepare(e.what,e.options),i=a.query.toString();return i.length>200&&(i=i.substr(0,199)+"..."),n+1+". "+i}):[]}},mounted:function(){window.addEventListener("keydown",this.checkKey),this.blurAll()},destroyed:function(){window.removeEventListener("keydown",this.checkKey)},methods:{checkKey:function(t){if(!this.show)return!1;"Enter"===t.key&&t.ctrlKey&&(t.preventDefault(),t.stopImmediatePropagation(),this.doYes())},complete:function(t,e){this.done=!0,this.$store.state.error?(this.status="reject",this.result=null,this.close()):(this.status=t,this.result=e,this.close(),this.$store.commit("message",{header:this.$dict.get().mutator_done,body:this.$dict.get().server_answer+": "+e,footer:this.queriesShow}))},close:function(){window.removeEventListener("keydown",this.checkKey),this.$emit("complete",{what:this.status,data:this.result})},doYes:function(t){var e=this;return window.removeEventListener("keydown",this.checkKey),t||(t=0),!(t>=this.mutations.length)&&new Promise(function(){var n=e.mutations[t];return e.$connection.fetch(n.what,n.options).then(function(a){return t===e.mutations.length-1||e.$store.state.error?e.complete(n.what,a):e.doYes(t+1)})})},blurAll:function(){var t=document.createElement("input"),e=document.getElementsByTagName("body")[0];e.appendChild(t),t.focus(),e.removeChild(t)}}},Cn=On,In=(n("849a"),Object(S["a"])(Cn,wn,kn,!1,null,"74ef4cee",null));In.options.__file="TheMutator.vue";var Ln=In.exports,Bn={name:"TablesEdit",components:{DataEditor:yn,TheMutator:Ln},mixins:[Oe],data:function(){return{values:{},valuesChanged:{},collations:[],engines:[],engine:"",name:"",data:[],mutations:[]}},computed:{loaded:function(){return this.collations.length>0&&this.engines.length>0&&this.values.length!=={}},fields:function(){return Object.assign([],this.$store.state.parser.mysql.tableParams)},rowFormat:function(){return Object.assign([],this.$store.state.parser.mysql.rowFormat)}},watch:{table:function(){this.load()}},mounted:function(){this.load()},methods:{complete:function(t){switch(t.what){case"alter":this.load();break;case"delTable":this.$router.push({name:"database-content"});break;case"copyTable":case"copyTableStruct":case"renameTable":!0===t.data?this.$router.push({name:"table-parameters",params:{table:this.name}}):this.load();break}this.mutations=[]},del:function(){this.mutations=[{what:"delTable",options:{table:this.table}}]},truncate:function(){this.mutations=[{what:"truncateTable",options:{table:this.table}}]},copy:function(){this.mutations=[],this.name=this.valuesChanged["table_name"];var t={database:this.database,table:this.table,name:this.name};this.mutations=[{what:"copyTableStruct",options:t},{what:"copyTable",options:t}]},insert:function(){this.name=this.valuesChanged["table_name"],this.name||(this.name=this.table);var t={database:this.database,table:this.table,name:this.name};this.mutations=[{what:"copyTableStruct",options:t}]},update:function(t){this.mutations=[],this.name=this.newName(t);var e=this.actionsList(t),n=this.serializeAlterTable(e);n&&this.saveFields(n),this.name&&this.saveName(this.name)},serializeAlterTable:function(t){var e=this,n=[];return t.forEach(function(t){var a=t.field?t.field:t.label,i=t.function?t.value:e.$connection.escapeAndQuote(t.value,!1);t.changed&&("collate"===a?n.push(a+" "+i):n.push(a+" = "+i))}),n.join(" ")},saveFields:function(t){var e={database:this.database,table:this.table,data:t};this.mutations.push({what:"alter",options:e})},saveName:function(t){var e={database:this.database,table:this.table,name:t};this.mutations.push({what:"renameTable",options:e})},newName:function(t){var e=this;if(!t)return"";var n=t.find(function(t,n){return"table_name"===t.label&&!t.disabled&&t.value!==e.data[n].value});return n?n.value:""},actionsList:function(t){var e=this,n=[];return t.forEach(function(t,a){"table_name"==t.label||t.disabled||t.value===e.data[a].value||n.push(t)}),n},rebuildData:function(){var t=this;this.fields.forEach(function(e,n){t.data[n].disabled=e.engine&&e.engine!==t.engine})},buildData:function(){var t=this;if(!this.loaded)return!1;this.data=[],this.fields.forEach(function(e){var n=e.label,a=e.type?e.type:"text",i=t.getValue(n),s=t.getOptions(e),r=!!e.disabled,o=!!e.function;r||t.data.push({label:n,type:a,value:i,options:s,disabled:r,function:o})}),this.rebuildData()},getValue:function(t){var e=this.values;switch(t){case"row_format":return e[t]?e[t].toString().toUpperCase():"";case"pack_keys":case"checksum":case"delay_key_write":return e["create_options"]&&e["create_options"][t]?e["create_options"][t]:null;default:return e[t]?e[t]:null}},parseCreateOptions:function(t){if(""==t||!t)return{};var e={},n=t.toString().split(" ");return n.forEach(function(t){var n=t.split("=");n.length>1&&(e[n[0]]=n[1])}),e},getOptions:function(t){switch(t.label){case"collate":return this.collations;case"engine":return this.engines;case"row_format":return this.rowFormat;default:return t.options?t.options:null}},loadCollations:function(){var t=this;return this.$connection.fetch("collations").then(function(e){return t.collations=e.map(function(t){return{value:t.Collation,block:t.Charset}}),e})},loadEngines:function(){var t=this;return this.$connection.fetch("engines").then(function(e){return t.engines=e.map(function(t){return t.Engine}),e})},loadValues:function(){var t=this,e={database:this.database,table:this.table};return this.$connection.fetch("tableSchema",e).then(function(e){for(var n in t.values={},e)t.values[n.toString().toLowerCase()]=e[n];t.engine=t.values["engine"],t.values["create_options"]=t.parseCreateOptions(t.values["create_options"]),t.values["collate"]=t.values["table_collation"],t.values["comment"]=t.values["table_comment"],t.valuesChanged=Object.assign({},t.values)})},load:function(){var t=this;this.loadValues().then(function(){return t.buildData()}),this.loadEngines().then(function(){return t.buildData()}),this.loadCollations().then(function(){return t.buildData()})},change:function(t){var e=this;if(!this.loaded||0===this.data.length)return!1;t.forEach(function(t){e.valuesChanged[t.label]=t.value,"engine"===t.label&&(e.engine=t.value)}),this.rebuildData()}}},Mn=Bn,qn=Object(S["a"])(Mn,fn,pn,!1,null,null,null);qn.options.__file="ParametersEdit.vue";var jn=qn.exports,Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"show-data"}},[t.codeEditor?n("div",{attrs:{id:"editor"}},[n("CodeEditor",{attrs:{text:t.queryRaw,keywords:t.keywords},model:{value:t.queryRaw,callback:function(e){t.queryRaw=e},expression:"queryRaw"}})],1):t._e(),t.loaded||t.codeEditor?n("DataGrid",{attrs:{data:t.answer,total:t.total,limit:t.state.limit,order:t.state.order,offset:t.state.offset,filters:t.state.filters,control:t.control,controls:t.controls},on:{order:t.changeOrder,offset:t.changeOffset,filters:t.changeFilters,reload:t.reload}},[t.codeEditor?n("LinkBase",{attrs:{slot:"actions",button:!0,icon:"play",label:"send"},on:{click:function(e){t.sendAgain()}},slot:"actions"}):t._e()],1):t._e(),n("QueryParser",{attrs:{query:t.queryRaw,state:t.state},model:{value:t.processed,callback:function(e){t.processed=e},expression:"processed"}})],1)},Dn=[],An={name:"ContentShow",components:{DataGrid:Ae,CodeEditor:Je,QueryParser:ln},mixins:[Oe],props:{codeEditor:{type:Boolean,default:!1}},data:function(){return{loaded:!1,total:0,queryRaw:"",pagination:!1,processed:{query:"",type:"",pagination:!1},answer:[],fields:[],state:{updated:0,offset:0,limit:3,filters:{},order:{field:"",desc:!1}}}},computed:{onpage:function(){return 1*this.$store.state.onpage},localStorageStateKey:function(){return["state",this.database,this.table].join("-")},keywords:function(){return this.$store.state.parser.mysql.keywords},control:function(){if(!this.answer||!this.answer[0])return"";var t=Object.keys(this.answer[0]),e=this.fields,n="";return e.forEach(function(e){"PRI"===e["Key"]&&t.indexOf(e["Field"])>-1&&(n=e["Field"])}),n},controls:function(){return this.control?["edit","copy"]:[]}},watch:{$route:function(t,e){t.name!==e.name&&(this.updateTable(),this.$forceUpdate())},table:function(){this.updateTable()},database:function(){this.updateTable()},action:function(){this.updateTable()},onpage:function(){this.state.offset=0,this.localStorageSaveState(),this.initialLoad()}},mounted:function(){this.updateTable()},methods:{sendAgain:function(){var t=this;this.state.offset=0,this.$nextTick(function(){return t.send()})},reload:function(){this.send()},localStorageLoadState:function(){if(this.codeEditor)return!1;var t=this.localStorageStateKey;if(!this.$storage.hasItem(t))return!1;this.state=JSON.parse(this.$storage.getItem(t))},localStorageSaveState:function(){if(this.codeEditor)return!1;var t=this.localStorageStateKey;this.$storage.setItem(t,JSON.stringify(this.state))},localStorageClearState:function(){if(this.codeEditor)return!1;var t=this.localStorageStateKey;this.$storage.removeItem(t)},getDefaultOrder:function(){var t={desc:!0},e=this.fields.find(function(t){return"PRI"===t["Key"]});return e&&(t.field=e.Field),t},send:function(){var t=this;this.state.limit=this.onpage,this.pagination=this.processed.pagination,this.$connection.fetch("raw",{query:this.processed.query}).then(function(e){"object"===Object(s["a"])(e)?(t.answer=e.data,t.total=Number(e.total)):(t.answer=e,t.total=0,t.pagination=!1,t.processed.table=""),t.loaded=!0}),this.processed.table&&this.$connection.fetchFields(this.database,this.processed.table).then(function(e){t.fields=e})},updateTable:function(){var t=this;this.$connection.fetchFields(this.database,this.table).then(function(e){t.fields=e,t.initialLoad()})},initialLoad:function(){var t=this;if(this.loaded=!1,this.codeEditor)return this.state.offset=0,this.state.filters={},this.state.order={field:"",desc:!1},this.total=0,this.queryRaw="",this.answer="",this.state.limit=this.onpage,!1;this.state.offset=0,this.state.order=this.getDefaultOrder(),this.state.filters={},this.localStorageLoadState(),this.state.limit=this.onpage,""!=this.database&&""!=this.table?(this.queryRaw=this.$connection.prepare("all",{database:this.database,table:this.table}).query,this.$nextTick(function(){t.send()})):(this.queryRaw="",this.answer="")},changeOrder:function(t){this.changeState("order",t)},changeOffset:function(t){this.changeState("offset",t)},changeFilters:function(t){this.state.offset=0,this.changeState("filters",t)},changeState:function(t,e){var n=this;this.state[t]=e,this.state.updated++,this.localStorageSaveState(),this.$nextTick(function(){n.send()})}}},Pn=An,Fn=(n("ab55"),Object(S["a"])(Pn,Nn,Dn,!1,null,"655d17f0",null));Fn.options.__file="Content.vue";var Hn=Fn.exports,zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("DataEditor",{attrs:{data:t.data,insert:null===t.entity||t.copy},on:{update:t.update,insert:t.insert,del:t.del}}):t._e(),n("transition",{attrs:{name:"modal"}},[t.mutations.length?n("TheMutator",{attrs:{mutations:t.mutations},on:{complete:t.complete}}):t._e()],1)],1)},Gn=[],Un={name:"ContentEdit",components:{DataEditor:yn,TheMutator:Ln},mixins:[Oe],props:{copy:{type:Boolean,default:!1}},data:function(){return{loaded:!1,fields:[],values:{},data:[],mutation:{what:"",options:{}}}},computed:{mutations:function(){return this.mutation.what?[this.mutation]:[]},primary:function(){var t=this.fields.find(function(t){return"PRI"===t.Key});return t?t.Field:"none"}},watch:{entity:function(){this.loadValues()}},mounted:function(){var t=this;this.loadFields().then(function(){return t.loadValues()})},methods:{mutate:function(t,e){var n={database:this.database,table:this.table,field:this.primary,value:this.entity,data:this.serializeUpdateFields(e)};this.mutation={what:t,options:n}},complete:function(t){switch(t.what){case"update":this.loadValues();break;case"insert":this.$router.push({name:"table-content-edit",params:{entity:t.data}});break;case"del":this.$router.push({name:"table-content"});break}this.mutation={what:"",options:{}}},del:function(t){this.mutate("del",t)},insert:function(t){this.mutate("insert",t)},update:function(t){this.mutate("update",t)},buildData:function(){var t=this;this.loaded=!0,this.data=this.fields.map(function(e){var n=t.parseType(e.Type);return{type:n,label:e.Field,info:e.Type,value:t.values[e.Field]?t.parseValue(t.values[e.Field],n):null,options:"enum"===n?t.parseEnum(e.Type):{},disabled:e.Field===t.primary||"CURRENT_TIMESTAMP"==e.Default,defval:e.Default,isnull:"YES"===e.Null}})},loadFields:function(){var t=this;return this.$connection.fetchFields(this.database,this.table).then(function(e){return t.fields=e})},loadValues:function(){var t=this;if(null===this.entity)return this.buildData(),!1;var e={database:this.database,table:this.table,field:this.primary,value:this.entity};return this.$connection.fetch("entry",e).then(function(e){t.copy&&(e[t.primary]=""),t.values=e,t.buildData()})},parseType:function(t){if(!t)return"none";var e=t.toString().toLowerCase();if("enum"===e.substr(0,4))return"enum";if("set"===e.substr(0,3))return"enum";if("int"===e.substr(0,3))return"int";if("tinyint"===e.substr(0,7))return"int";if("timestamp"===e.substr(0,9))return"datetime";if("text"===e.substr(0,4))return"textarea";if("longtext"===e.substr(0,8))return"textarea";if("varchar"===e.substr(0,7)){var n=Number(e.substr(0,e.length-1).split("(")[1]);if(n>=250)return"textarea"}return e},parseEnum:function(t){if(!t)return[];var e=t.substr(5,t.length-6);return this.$valset.parse(e)},parseValue:function(t,e){switch(e){case"int":return Number(t);default:return t.toString()}},serializeUpdateFields:function(t){var e=this,n=[];return t.forEach(function(t){var a=t.label,i=t.value;switch(t.type){case"set":case"enum":i&&(i=e.$valset.prepare(i)),i="'".concat(i,"'");break;default:i=t.function?t.value:e.$connection.escapeAndQuote(i,t.isnull);break}t.changed&&n.push("`"+a+"` = "+i)}),n.join(", ")}}},Vn=Un,Kn=Object(S["a"])(Vn,zn,Gn,!1,null,null,null);Kn.options.__file="ContentEdit.vue";var Wn=Kn.exports,Qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("DataGrid",{attrs:{data:t.fieldsOut(),total:t.fields.length,limit:t.fields.length,order:t.order,"disable-filters":!0,controls:t.controls,control:"Field"},on:{order:t.changeOrder,reload:t.reload}}):t._e()],1)},Yn=[],Jn=(n("55dd"),{name:"ColumnsShow",components:{DataGrid:Ae},mixins:[Oe],data:function(){return{loaded:!1,fields:[],order:{field:"#",desc:!1}}},computed:{controls:function(){return["edit","copy"]}},watch:{table:function(){this.load()},database:function(){this.load()},action:function(){this.load()}},mounted:function(){this.load()},methods:{reload:function(){var t=this;this.$connection.fetchFields(this.database,this.table,!0).then(function(e){t.fields=e,t.loaded=!0})},fieldsOut:function(){if(!this.fields)return"";var t=this.fields.map(function(t,e){return Object.assign({"#":e+1},t)});return t.sort(this.orderer),t},orderer:function(t,e){var n=this.order.field,a=this.order.desc,i=t[n]===e[n]?0:t[n]>e[n]?1:-1;return"0"===t[n]&&null===e[n]&&(i=1),null===t[n]&&"0"===e[n]&&(i=-1),""===t[n]&&null===e[n]&&(i=1),null===t[n]&&""===e[n]&&(i=-1),a&&(i=-i),i},changeOrder:function(t){this.order=t,this.$forceUpdate()},load:function(){var t=this;this.$connection.fetchFields(this.database,this.table).then(function(e){t.fields=e,t.loaded=!0})}}}),Xn=Jn,Zn=Object(S["a"])(Xn,Qn,Yn,!1,null,null,null);Zn.options.__file="Structure.vue";var ta=Zn.exports,ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("DataEditor",{attrs:{data:t.data,insert:null===t.entity||t.copy},on:{update:t.update,insert:t.insert,del:t.del}}):t._e(),n("transition",{attrs:{name:"modal"}},[t.mutations.length?n("TheMutator",{attrs:{mutations:t.mutations},on:{complete:t.complete}}):t._e()],1)],1)},na=[],aa={name:"ColumnsEdit",components:{DataEditor:yn,TheMutator:Ln},mixins:[Oe],props:{copy:{type:Boolean,default:!1}},data:function(){return{newName:"",values:{},positions:[],collations:[],data:[],mutation:{what:"",options:{}}}},computed:{loaded:function(){return this.collations.length>0&&this.positions.length>0},mutations:function(){return this.mutation.what?[this.mutation]:[]},primary:function(){return"Field"},fields:function(){return Object.assign([],this.$store.state.parser.mysql.fields)}},mounted:function(){this.load()},methods:{mutate:function(t,e){var n=this.extractValues(e),a={table:this.table,nameOld:this.values["Field"],nameNew:n["Field"],type:n["Type"],isnull:"YES"===n["Null"]?"NULL":"NOT NULL",defval:null===n["Default"]?"":"DEFAULT "+this.$connection.escapeAndQuote(n["Default"]),extra:null===n["Extra"]?"":n["Extra"],comment:this.$connection.escapeAndQuote(n["Comment"]),position:"FIRST"===n["Position"]?"FIRST":"AFTER "+n["Position"]};this.mutation={what:t,options:a}},complete:function(t){var e=this;switch(t.what){case"addColumn":case"changeColumn":this.$router.push({name:"table-structure-edit",params:{entity:this.mutation.options.nameNew}}),this.load();break;case"delColumn":this.$connection.fetchFields(this.database,this.table,!0).then(function(){e.$router.push({name:"table-structure"})});break}this.mutation={what:"",options:{}}},del:function(t){this.mutate("delColumn",t)},insert:function(t){this.mutate("addColumn",t)},update:function(t){this.mutate("changeColumn",t)},extractValues:function(t){var e={};return t.forEach(function(t){e[t.label]=t.value}),e},buildData:function(){var t=this;if(!this.loaded)return[];this.data=this.fields.map(function(e){var n=Object.assign({},e);return n.value=t.getValue(n),n.options=t.getOptions(n),n})},getValue:function(t){switch(t.label){default:return this.values[t.label]?this.values[t.label]:null}},getOptions:function(t){switch(t.label){case"Position":return this.positions;case"Collation":return this.collations;default:return t.options?t.options:null}},loadCollations:function(){var t=this;return this.$connection.fetch("collations").then(function(e){t.collations=e.map(function(t){return{label:t.Collation,value:t.Collation,block:t.Charset}})})},loadData:function(){var t=this;return this.$connection.fetchFields(this.database,this.table,!0).then(function(e){var n=t.$dict.get().first;t.values={},t.positions=[],t.positions.push({label:n,value:"FIRST"}),e.forEach(function(e,n){var a=e.Field;if((a!==t.entity||t.copy)&&t.positions.push({label:a,value:a}),a===t.entity){var i=t.copy?t.entity:t.positions[n].value;t.values=Object.assign({Position:i},e)}},t)})},load:function(){var t=this;this.loadCollations().then(function(){return t.buildData()}),this.loadData().then(function(){return t.buildData()})}}},ia=aa,sa=Object(S["a"])(ia,ea,na,!1,null,null,null);sa.options.__file="StructureEdit.vue";var ra=sa.exports,oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},la=[],ua={name:"Subroute"},ca=ua,da=Object(S["a"])(ca,oa,la,!1,null,null,null);da.options.__file="Subroute.vue";var ha=da.exports,fa=[{group:"host",name:"host-content",path:"/",component:hn,icon:"server"},{group:"database",path:"/:database",component:ha,children:[{name:"database-content",path:"",component:hn,icon:"database"},{name:"database-content-add",path:"add",component:jn,icon:"folder-plus"}]},{path:"/:database/:table/structure",component:ha,children:[{name:"table-structure",path:"",component:ta,icon:"sitemap"},{name:"table-structure-add",path:"add",component:ra,icon:"plus"},{name:"table-structure-edit",path:"edit/:entity",component:ra},{name:"table-structure-copy",path:"copy/:entity",component:ra,props:{copy:!0}}]},{path:"/:database/:table/content",component:ha,children:[{name:"table-content",path:"",component:Hn,icon:"folder"},{name:"table-content-add",path:"add",component:Wn,icon:"plus"},{name:"table-content-edit",path:"edit/:entity",component:Wn},{name:"table-content-copy",path:"copy/:entity",component:Wn,props:{copy:!0}},{name:"table-query-edit",path:"edit/:entity",component:Wn}]},{name:"table-query",path:"/:database/:table/query",component:Hn,props:{codeEditor:!0},icon:"terminal"},{name:"table-parameters",path:"/:database/:table/parameters",component:jn,icon:"wrench"}];fa.forEach(function(t){t.group||(t.group="table")}),a["a"].use(v["a"]);var pa=new v["a"]({routes:fa}),ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.view,{tag:"component"})},va=[],ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TheInformer"),n("TheLoading"),n("transition",{attrs:{name:"modal-bg"}},[t.modal?n("div",{attrs:{id:"modal-bg"}}):t._e()]),n("transition",{attrs:{name:"modal"}},[t.error?n("TheError"):t._e()],1),n("transition",{attrs:{name:"modal"}},[t.message?n("TheMessage"):t._e()],1),t.loaded.databases?n("TheHeader"):t._e(),t.loaded.databases?n("TheNavigation"):t._e(),t.loaded.databases?n("TheContent",{class:{loading:t.loading}}):t._e()],1)},ga=[],_a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"the_header"}},[n("header",[n("div",{attrs:{id:"user"}},[n("InputText",{staticClass:"seacrh-on-page",attrs:{placeholder:t.$dict.get().searchpage,type:"search"},on:{input:t.searchSkipClear},nativeOn:{keyup:function(e){return t.searchSkipCheck(e)}},model:{value:t.searchOnPage,callback:function(e){t.searchOnPage=e},expression:"searchOnPage"}}),n("LinkBase",{class:t.menuClasses,attrs:{button:!0},on:{click:function(e){t.toggleMenu(!t.menu)}}},[n("div",{staticClass:"dots"},[t._v("...")])]),n("transition",{attrs:{name:"headermenu"}},[t.menu?n("TheHeaderMenu",{on:{close:function(e){t.toggleMenu(!1)}}}):t._e()],1)],1),n("TheLogo"),n("span",{staticClass:"breadcrumbs"},[n("div",[t._v("/"),n("LinkBase",{attrs:{to:{name:"host-content"}}},[t._v("localhost")])],1),t.database?n("div",[t._v("/"),n("LinkBase",{attrs:{to:{name:"database-content"}}},[t._v(t._s(t.database))])],1):t._e(),t.table?n("div",[t._v("/"),n("LinkBase",{attrs:{to:{action:"show"}}},[t._v(t._s(t.table))])],1):t._e()])],1)])},ya=[],wa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("menu",{on:{mouseenter:function(e){t.eventOver()},mouseleave:function(e){t.eventOut()}}},[n("div",{staticClass:"menu-item menu-group"},[n("label",{domProps:{innerHTML:t._s(t.$dict.get().language)}}),n("TheHeaderMenuLangs",{staticClass:"switcher"})],1),n("div",{staticClass:"menu-item menu-group"},[n("label",{domProps:{innerHTML:t._s(t.$dict.get().onpage)}}),n("TheHeaderMenuPages",{staticClass:"switcher"})],1),n("LinkBase",{staticClass:"menu-item",domProps:{innerHTML:t._s(t.$dict.get().about)}}),n("LinkBase",{staticClass:"menu-item",domProps:{innerHTML:t._s(t.$dict.get().logoff)},on:{click:t.disconnect}})],1)},ka=[],$a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("InputSwitch",{attrs:{items:t.langs,current:t.lang},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})},xa=[],Ta=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.items,function(e,a){return n("LinkBase",{key:a,staticClass:"switch-item",attrs:{active:t.getActive(e.value)},domProps:{innerHTML:t._s(e.label)},on:{click:function(n){t.setCurrent(e.value)}}})}))},Ea=[],Sa={name:"InputSwitch",props:{items:{type:Array,required:!0},current:{type:String,required:!0}},methods:{setCurrent:function(t){this.$emit("input",t)},getActive:function(t){return this.current===t}}},Ra=Sa,Oa=(n("7d0d"),Object(S["a"])(Ra,Ta,Ea,!1,null,"3ead2898",null));Oa.options.__file="InputSwitch.vue";var Ca=Oa.exports,Ia={name:"TheHeaderMenuLangs",components:{InputSwitch:Ca},computed:{langs:function(){return this.$store.state.constants.langs},lang:{get:function(){return this.$store.state.lang},set:function(t){this.$storage.setItem("lang",t),this.$store.commit("lang",t)}}}},La=Ia,Ba=Object(S["a"])(La,$a,xa,!1,null,null,null);Ba.options.__file="TheHeaderMenuLangs.vue";var Ma=Ba.exports,qa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("InputSwitch",{attrs:{items:t.onpages,current:t.onpage},model:{value:t.onpage,callback:function(e){t.onpage=e},expression:"onpage"}})},ja=[],Na={name:"TheHeaderMenuPages",components:{InputSwitch:Ca},computed:{onpages:function(){return this.$store.state.constants.onpages},onpage:{get:function(){return this.$store.state.onpage},set:function(t){this.$storage.setItem("onpage",t),this.$store.commit("onpage",t)}}}},Da=Na,Aa=Object(S["a"])(Da,qa,ja,!1,null,null,null);Aa.options.__file="TheHeaderMenuPages.vue";var Pa=Aa.exports,Fa={name:"TheHeaderMenu",components:{TheHeaderMenuLangs:Ma,TheHeaderMenuPages:Pa},mounted:function(){this.eventOut()},methods:{disconnect:function(){this.$connection.close()},close:function(){this.$emit("close")},eventOver:function(){window.removeEventListener("click",this.close)},eventOut:function(){window.addEventListener("click",this.close)}}},Ha=Fa,za=(n("f026"),Object(S["a"])(Ha,wa,ka,!1,null,null,null));za.options.__file="TheHeaderMenu.vue";var Ga=za.exports,Ua=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"logo"}},[t.loading?n("div",{staticClass:"logo-loading"},[n("span",[t._v("My")]),n("span",{staticClass:"dark"},[t._v("Vue")]),n("span",[t._v("Admin")])]):n("div",[n("span",[t._v("My")]),n("span",{staticClass:"dark"},[t._v("Vue")]),n("span",[t._v("Admin")])])])},Va=[],Ka={name:"TheLogo",computed:{loading:function(){return this.$store.state.loading}}},Wa=Ka,Qa=(n("37e1"),Object(S["a"])(Wa,Ua,Va,!1,null,null,null));Qa.options.__file="TheLogo.vue";var Ya=Qa.exports,Ja={name:"TheHeader",components:{InputText:wt,InputBase:ee,TheHeaderMenu:Ga,TheLogo:Ya},mixins:[Oe,de],data:function(){return{menu:!1}},computed:{menuClasses:function(){return{menu:!0,active:this.menu}}},watch:{database:function(){this.searchOnPage=""},table:function(){this.searchOnPage=""},action:function(){this.searchOnPage=""},entry:function(){this.searchOnPage=""}},methods:{toggleMenu:function(t){this.menu=t},searchSkipClear:function(){this.$store.commit("searchSkip",0)},searchSkipCheck:function(t){if("Enter"==t.key){var e=this.$store.state.searchSkip,n=t.ctrlKey?-1:1,a=this.$store.state.searchMax,i=e+n;i<0&&(i=a-1),i>a-1&&(i=0),this.$store.commit("searchSkip",i)}}}},Xa=Ja,Za=(n("0b0a"),Object(S["a"])(Xa,_a,ya,!1,null,null,null));Za.options.__file="TheHeader.vue";var ti=Za.exports,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"informer"}},[t.active&&t.loading?n("div",{attrs:{id:"informer"}},[t._v("\n    "+t._s(t.$dict.get().waiting)+"\n  ")]):t._e()])},ni=[],ai={name:"TheInformer",data:function(){return{active:!1,timer:null}},computed:{loading:function(){return this.$store.state.loading}},watch:{loading:function(t){var e=this;t?(clearTimeout(this.timer),this.active=!1,this.timer=setTimeout(function(){e.active=!0},500)):(clearTimeout(this.timer),this.active=!1,this.timer=null)}}},ii=ai,si=(n("7411"),Object(S["a"])(ii,ei,ni,!1,null,null,null));si.options.__file="TheInformer.vue";var ri=si.exports,oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"loading"}},[t.loading?n("div",{attrs:{id:"loading"}},[t._v("\n    MyVueAdmin\n  ")]):t._e()])},li=[],ui={name:"TheLoading",data:function(){return{}},computed:{loading:function(){return this.$store.state.loading}}},ci=ui,di=(n("dd5b"),Object(S["a"])(ci,oi,li,!1,null,null,null));di.options.__file="TheLoading.vue";var hi=di.exports,fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TheModalBase",{staticClass:"modal-error",attrs:{header:t.$dict.get().servererror,body:t.message,footer:t.query},on:{close:function(e){t.close()}}})},pi=[],mi={name:"TheError",components:{TheModalBase:Rn},computed:{message:function(){return this.error?this.error.message:null},query:function(){return this.error?this.error.query?this.error.query.query:"":null},error:function(){return this.$store.state.error}},methods:{close:function(){this.$store.commit("error",null)}}},vi=mi,bi=Object(S["a"])(vi,fi,pi,!1,null,null,null);bi.options.__file="TheError.vue";var gi=bi.exports,_i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TheModalBase",{staticClass:"modal-message",attrs:{header:t.message.header,body:t.message.body,footer:t.message.footer},on:{close:function(e){t.close()}}})},yi=[],wi={name:"TheMessage",components:{TheModalBase:Rn},computed:{message:function(){return this.$store.state.message}},methods:{close:function(){this.$store.commit("message",null)}}},ki=wi,$i=Object(S["a"])(ki,_i,yi,!1,null,null,null);$i.options.__file="TheMessage.vue";var xi=$i.exports,Ti=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"the_navigation"}},[n("nav",{ref:"nav",attrs:{id:"nav"}},[n("transition",{attrs:{name:"navigation"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],attrs:{id:"nav-body"}},[n("div",{attrs:{id:"nav-body-inner"}},[t.database?n("TheNavigationDatabases"):t._e(),n("TheNavigationTables",{ref:"tables",attrs:{limit:t.limit}})],1)])]),n("div",{attrs:{id:"nav-caller"}},[n("div",{attrs:{id:"nav-gradient"}},[t._v(t._s(t.menuSymbol))])]),n("div",{staticClass:"margin-background",attrs:{id:"nav-border"}})],1),n("ButtonsHolder",{attrs:{transition:!0,position:"top"}},t._l(t.modesOut,function(t){return n("LinkBase",{key:[t.to,t.label].join(),attrs:{active:t.active||t.activeIndirect,to:{name:t.name},icon:t.icon,label:t.label}})}))],1)},Ei=[],Si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("InputBase",{staticClass:"select",attrs:{options:t.databases,type:"enum",value:"database"},model:{value:t.database,callback:function(e){t.database=e},expression:"database"}})},Ri=[],Oi={name:"TheNavigationDatabases",components:{InputBase:ee},computed:{database:{get:function(){return this.$route.params.database},set:function(t){this.$router.push({name:"database-content",params:{database:t}})}},databases:function(){return this.$store.state.databases}}},Ci=Oi,Ii=(n("a125"),Object(S["a"])(Ci,Si,Ri,!1,null,"3da697ce",null));Ii.options.__file="TheNavigationDatabases.vue";var Li=Ii.exports,Bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navigation-tables"},on:{keydown:t.key}},[n("div",{attrs:{id:"navigation-tables-filter"}},[n("InputBase",{ref:"filter",attrs:{placeholder:t.$dict.get().filteraside},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._l(t.tablesFiltered,function(e,a){return n("LinkBase",{key:e.number,class:{hover:t.hover===a,nohover:!0},attrs:{active:e.name===t.table,to:e.link},nativeOn:{mouseenter:function(e){t.hover=a}}},[n("div",[t._v("\n      "+t._s(e.name)+" "),n("span",{staticClass:"number"},[t._v("#"+t._s(e.number))])])])}),0===t.tablesFiltered.length?n("span",{staticClass:"nothing"},[t._v(t._s(t.$dict.get().nothingfound))]):t._e(),t.search?n("LinkBase",{class:{reset:!0},attrs:{button:!0,label:"reset_search"},on:{click:function(e){t.searchReset()}}}):t._e(),!t.search&&t.pagesTotal>0?n("div",{staticClass:"controls"},[n("LinkBase",{staticClass:"go-minus",class:{disabled:!t.canGoMinus},attrs:{button:!0,icon:"arrow-left"},on:{click:function(e){t.goMinus()}}}),n("span",{staticClass:"page-info"},[t._v(t._s(t.pageCurrent)+" / "+t._s(t.pagesTotal))]),n("LinkBase",{staticClass:"go-plus",class:{disabled:!t.canGoPlus},attrs:{button:!0,icon:"arrow-right"},on:{click:function(e){t.goPlus()}}})],1):t._e()],2)},Mi=[],qi=(n("b54a"),{name:"TheNavigationTables",components:{InputBase:ee},mixins:[Oe,de],props:{limit:{type:Number,reqired:!1,default:25},height:{type:Number,reqired:!1,default:30}},data:function(){return{hover:0,start:0,search:""}},computed:{tables:function(){return this.database?this.$store.state.tables:this.$store.state.databases},tablesFiltered:function(){var t=this,e=[];return this.tables.forEach(function(n,a){t.checkItem(n,a,e.length)&&e.push({name:n,number:Number(a)+1,link:t.link(n)})}),e},total:function(){return this.tables?this.tables.length:0},canGoPlus:function(){return this.total>this.start+this.limit},canGoMinus:function(){return this.start>0},pageCurrent:function(){return this.start/this.limit+1},pagesTotal:function(){return Math.ceil(this.total/this.limit)}},watch:{database:function(){this.start=this.findCurrentPage()},limit:function(){this.start=this.findCurrentPage()},total:function(){this.start=this.findCurrentPage()}},mounted:function(){this.start=this.findCurrentPage()},methods:{checkItem:function(t,e,n){return e>=this.start&&e<this.start+this.limit&&!this.search||this.search&&this.searchIt(t)&&n<this.limit},key:function(t){switch(t.key){case"ArrowRight":!this.search&&this.canGoPlus&&this.goPlus();break;case"ArrowLeft":!this.search&&this.canGoMinus&&this.goMinus();break;case"ArrowDown":this.hover++,this.hover>=this.tablesFiltered.length&&(this.hover=0);break;case"ArrowUp":this.hover--,this.hover<0&&(this.hover=this.tablesFiltered.length-1);break;case"Enter":this.tablesFiltered[this.hover]&&this.activate(this.tablesFiltered[this.hover].name);break}},focus:function(){this.$refs["filter"].focus()},activate:function(t){this.$router.push(this.link(t))},link:function(t){return this.table&&!this.entity?{name:this.$route.name,params:{table:t}}:this.database?{name:"table-content",params:{table:t}}:{name:"database-content",params:{database:t}}},goPlus:function(){this.search="",this.canGoPlus&&(this.start+=this.limit)},goMinus:function(){this.search="",this.canGoMinus&&(this.start-=this.limit)},searchNow:function(){""!==this.search&&(this.start=0)},searchReset:function(){this.start=this.findCurrentPage(),this.search=""},searchIt:function(t){return this.searchExecute(this.search,t)},findCurrentPage:function(){if(!this.tables)return 0;for(var t=this.tables.indexOf(this.table),e=0,n=0;n<this.pagesTotal;n++)n*this.limit<=t&&(n+1)*this.limit>t&&(e=n);return e*this.limit}}}),ji=qi,Ni=(n("3030"),Object(S["a"])(ji,Bi,Mi,!1,null,"7fa362c4",null));Ni.options.__file="TheNavigationTables.vue";var Di=Ni.exports,Ai={name:"TheNavigation",components:{TheNavigationTables:Di,TheNavigationDatabases:Li,ButtonsHolder:O},mixins:[Oe],data:function(){return{active:!1,timeout:5e3,heightFull:0,escapePressed:!1}},computed:{modesOut:function(){return this.$store.state.navigation.links},menuSymbol:function(){return this.active?"☷":"☰"},limit:function(){return Math.max(3,Math.floor((this.heightFull-78)/30)-2)}},watch:{table:function(){this.disactivate()}},mounted:function(){this.$refs["nav"].addEventListener("mouseenter",this.activateDelayed),this.$refs["nav"].addEventListener("mouseleave",this.disactivateDelayed),window.addEventListener("resize",this.resize),window.addEventListener("keyup",this.keyup),window.addEventListener("keydown",this.keydown),this.resize()},methods:{disactivateDelayed:function(){window.addEventListener("click",this.disactivate),window.removeEventListener("click",this.activate)},activateDelayed:function(){window.addEventListener("click",this.activate),window.removeEventListener("click",this.disactivate)},activate:function(){if(this.active)return!0;clearTimeout(this.timer),this.active=!0,this.$nextTick(function(){this.$refs["tables"]&&this.$refs["tables"].focus()})},disactivate:function(){clearTimeout(this.timer),this.active=!1},resize:function(){this.$refs["nav"]&&(this.heightFull=Math.round(this.$refs["nav"].offsetHeight))},toggle:function(){this.active?this.disactivate():this.activate()},keyup:function(t){return!this.$store.state.navBlock&&(!!t&&void("Escape"===t.key&&(this.escapePressed=!1)))},keydown:function(t){return!this.$store.state.navBlock&&(!!t&&(!t.defaultPrevented&&void("Escape"!==t.key||this.escapePressed||(this.toggle(),this.escapePressed=!0))))}}},Pi=Ai,Fi=(n("2e3f"),Object(S["a"])(Pi,Ti,Ei,!1,null,null,null));Fi.options.__file="TheNavigation.vue";var Hi=Fi.exports,zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("content",[n("transition",{attrs:{name:"pages"}},[n("router-view")],1)],1)},Gi=[],Ui={name:"TheContent",components:{},computed:{}},Vi=Ui,Ki=(n("dbf8"),Object(S["a"])(Vi,zi,Gi,!1,null,null,null));Ki.options.__file="TheContent.vue";var Wi=Ki.exports,Qi={name:"App",components:{TheNavigation:Hi,TheHeader:ti,TheInformer:ri,TheLoading:hi,TheContent:Wi,TheError:gi,TheMessage:xi},mixins:[Oe],data:function(){return{loaded:{tables:!1,databases:!1},ready:!1}},computed:{modal:function(){return this.$store.state.modal},loading:function(){return this.$store.state.loading},error:function(){return""!==this.$store.state.error&&null!==this.$store.state.error},message:function(){return""!==this.$store.state.message&&null!==this.$store.state.message},navigationBase:function(){var t=this;return this.$router.options.routes.find(function(e){return e.children?e.children.some(function(e){return e.name===t.$route.name}):e.name===t.$route.name})},navigation:function(){var t=this,e={links:[],actions:[]};return this.$router.options.routes.forEach(function(n){if(n.group===t.navigationBase.group){var a=t.navigationItem(n.children?n.children[0]:n,n.children);if(e.links.push(a),n.children&&a.active){var i={};i=a.name===t.$route.name?t.navigationItem(n.children.find(function(t){return"add"===t.path})):Object.assign(Object.assign({},a),{icon:"arrow-left",label:"back"}),i&&e.actions.push(i)}}}),e}},watch:{ready:function(t){var e=this;t&&this.loadDatabases().then(function(){return e.loadTables()})},database:function(t){t&&this.loadTables()},$route:function(){this.commitNavigation()}},mounted:function(){this.loadFromLocalStorage(),this.commitNavigation(),this.ready=!0},destroyed:function(){},methods:{commitNavigation:function(){this.$store.commit("navigation",this.navigation)},loadFromLocalStorage:function(){if(this.$storage.hasItem("lang"))this.$store.commit("lang",this.$storage.getItem("lang"));else{var t=this.$store.state.constants.langs[0].value;this.$store.commit("lang",t)}if(this.$storage.hasItem("onpage"))this.$store.commit("onpage",this.$storage.getItem("onpage"));else{var e=this.$store.state.constants.onpages[0].value;this.$store.commit("onpage",e)}},loadDatabases:function(){var t=this;return this.$connection.fetch("databases",{database:"no"}).then(function(e){return t.$store.commit("databases",e),t.loaded.databases=!0,e})},loadTables:function(){var t=this;return this.database?this.$connection.fetch("tables",{database:this.database}).then(function(e){return t.$store.commit("tables",e),t.loaded.tables=!0,e}):null},navigationItem:function(t,e){var n=this;if(!t)return{};var a=t.name,i=a===this.$route.name;!i&&e&&(i=e.some(function(t){return t.name===n.$route.name}));var s=t.label?t.label:t.name,r=t.icon?t.icon:a.toString().split("-").pop();return{name:a,active:i,label:s,icon:r}}}},Yi=Qi,Ji=(n("df2c"),Object(S["a"])(Yi,ba,ga,!1,null,null,null));Ji.options.__file="App.vue";var Xi=Ji.exports,Zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Loading...")])},ts=[],es={name:"Check",mounted:function(){this.$storage.hasItem("server")&&this.$store.commit("server",this.$storage.getItem("server")),this.$connection.check()}},ns=es,as=(n("5009"),Object(S["a"])(ns,Zi,ts,!1,null,"23b7a41e",null));as.options.__file="Check.vue";var is=as.exports,ss=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{attrs:{id:"login-bg"}}),n("div",{attrs:{id:"login-holder"}},[t._m(0),n("div",{attrs:{id:"login-form"}},[n("div",{attrs:{id:"inputs"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],ref:"username",attrs:{disabled:t.connecting,placeholder:"Username"},domProps:{value:t.username},on:{keyup:t.checkKeyup,input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",attrs:{disabled:t.connecting,type:"password",placeholder:"Password"},domProps:{value:t.password},on:{keyup:t.checkKeyup,input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.serverShow||t.server?n("input",{directives:[{name:"model",rawName:"v-model",value:t.server,expression:"server"}],ref:"server",attrs:{disabled:t.connecting,placeholder:"Backend address"},domProps:{value:t.server},on:{input:function(e){e.target.composing||(t.server=e.target.value)}}}):t._e()]),n("transition-group",[t.showButton?n("LinkBase",{key:"submit",ref:"submit",staticClass:"button",attrs:{id:"submit",button:!0,icon:"sign-in-alt"},on:{click:function(e){t.connect()}}}):t._e(),t.connecting?t._e():n("div",{key:"answer",attrs:{id:"answer"}},[t._v(t._s(t._f("databaseAnswer")(t.answer)))])],1)],1),n("div",{attrs:{id:"server"}},[n("LinkBase",{attrs:{button:!0,icon:"server"},on:{click:function(e){t.serverToggle()}}})],1)])])},rs=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo",attrs:{id:"login-header"}},[t._v("My"),n("span",[t._v("Vue")]),t._v("Admin")])}],os={name:"Login",filters:{databaseAnswer:function(t){return"string"!==typeof t?"":"Access denied for user"===t.substr(0,22)?t.split("@")[0]:t}},data:function(){return{username:"",password:"",answer:"",connecting:!1,serverShow:!1}},computed:{server:{set:function(t){this.$storage.setItem("server",t),this.$store.commit("server",t)},get:function(){return this.$store.state.server}},showButton:function(){return!this.connecting&&this.username&&this.password},whatIsNeeded:function(){return this.username?this.password?"submit":"password":"username"}},mounted:function(){this.$storage.available()||alert("No local storage: some features will be unavailable"),this.$storage.hasItem("last_login")&&(this.username=this.$storage.getItem("last_login")),this.focus(!0)},methods:{serverToggle:function(){this.serverShow||this.server?(this.serverShow=!1,this.server=""):this.serverShow=!0},checkKeyup:function(t){this.answer="","Enter"!==t.key||this.focus()||this.connect()},focus:function(t){var e=this.whatIsNeeded;return t&&"submit"===e&&(e="username"),"submit"!==e&&(this.$refs[e]&&this.$refs[e].focus(),!0)},credentials:function(t,e){return btoa(JSON.stringify([encodeURI(t),encodeURI(e)]))},connect:function(){this.answer="Loading";var t=this,e=this.credentials(this.username,this.password);this.$storage.setItem("last_login",this.username),this.connecting=!0,this.$connection.establish(e,!0).then(function(e){t.answer=e,t.connecting=!1,t.$nextTick(function(){return t.focus(!0)})})}}},ls=os,us=(n("d3be"),Object(S["a"])(ls,ss,rs,!1,null,"a0c468c0",null));us.options.__file="Login.vue";var cs=us.exports,ds=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("404")])},hs=[],fs={name:"Err404"},ps=fs,ms=Object(S["a"])(ps,ds,hs,!1,null,null,null);ms.options.__file="Err404.vue";var vs=ms.exports,bs={name:"Root",components:{App:Xi,Login:cs,Check:is,Err404:vs},computed:{view:function(){return this.$store.state.checked?this.$store.state.connected?this.$route.name?"App":"Err404":"Login":"Check"}}},gs=bs,_s=Object(S["a"])(gs,ma,va,!1,null,null,null);_s.options.__file="Root.vue";var ys=_s.exports,ws=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{ref:"link-outer",class:{linkbase:!0,action:t.button,link:!t.button,disabled:t.disabled,enabled:!t.disabled,active:t.active},attrs:{to:t.path},nativeOn:{click:function(e){return t.click(e)}}},[t._t("default"),t.label?n("div",{class:{label:t.icon,noselect:!0},domProps:{innerHTML:t._s(t.$dict.get(t.label))}}):t._e(),t.icon?n("faIcon",{class:{icon:t.label},attrs:{icon:t.icon}}):t._e()],2)},ks=[],$s={name:"LinkBase",props:{to:{type:[Object,Boolean],default:!1},button:{type:Boolean,required:!1,default:!1},active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},iconHover:{type:String,required:!1,default:""},label:{type:String,required:!1,default:""}},computed:{loading:function(){return this.$store.state.loading},path:function(){return this.loading||!this.to?"#":this.to}},methods:{click:function(){!this.disabled&&this.$emit("click")}}},xs=$s,Ts=(n("f0ed"),Object(S["a"])(xs,ws,ks,!1,null,null,null));Ts.options.__file="LinkBase.vue";var Es=Ts.exports,Ss=n("ecee"),Rs=n("ad3d"),Os=n("c074");Ss["c"].add([Os["n"],Os["e"],Os["a"],Os["b"],Os["r"],Os["v"],Os["f"],Os["l"],Os["m"],Os["k"],Os["u"],Os["t"],Os["q"],Os["y"],Os["c"],Os["w"],Os["p"],Os["z"],Os["A"],Os["i"],Os["j"],Os["x"],Os["h"],Os["d"],Os["o"],Os["g"],Os["s"]]);var Cs=Rs["a"];a["a"].component("faIcon",Cs),a["a"].component("LinkBase",Es),a["a"].use(i["a"]),a["a"].use(d,{store:c,router:pa}),a["a"].use(h,{store:c,router:pa}),a["a"].use(f),a["a"].use(p),a["a"].use(m),a["a"].config.productionTip=!1,new a["a"]({el:"#app",store:c,router:pa,cookies:f,storage:p,connection:d,dict:h,valset:m,render:function(t){return t(ys)}})},"5a68":function(t,e,n){},"5c39":function(t,e,n){"use strict";var a=n("fad2"),i=n.n(a);i.a},"5f0b":function(t,e,n){},6395:function(t,e,n){"use strict";var a=n("0ae1"),i=n.n(a);i.a},7411:function(t,e,n){"use strict";var a=n("bef4"),i=n.n(a);i.a},7532:function(t,e,n){},"7c63":function(t,e,n){},"7d0d":function(t,e,n){"use strict";var a=n("b9e5"),i=n.n(a);i.a},"849a":function(t,e,n){"use strict";var a=n("ea69"),i=n.n(a);i.a},8963:function(t,e,n){},"8a78":function(t,e,n){},9175:function(t,e,n){},"91e0":function(t,e,n){"use strict";var a=n("4cc6"),i=n.n(a);i.a},"92ac":function(t,e,n){"use strict";var a=n("1dd2"),i=n.n(a);i.a},9372:function(t,e,n){},a125:function(t,e,n){"use strict";var a=n("aa19"),i=n.n(a);i.a},a209:function(t,e,n){},aa19:function(t,e,n){},ab55:function(t,e,n){"use strict";var a=n("9372"),i=n.n(a);i.a},b184:function(t,e,n){},b9e5:function(t,e,n){},bef4:function(t,e,n){},c300:function(t,e,n){},c47c:function(t,e,n){},cb87:function(t,e,n){"use strict";var a=n("c300"),i=n.n(a);i.a},cf40:function(t,e,n){"use strict";var a=n("8963"),i=n.n(a);i.a},d321:function(t,e,n){"use strict";var a=n("c47c"),i=n.n(a);i.a},d3be:function(t,e,n){"use strict";var a=n("3eab"),i=n.n(a);i.a},d66d:function(t,e,n){},dbf8:function(t,e,n){"use strict";var a=n("7532"),i=n.n(a);i.a},dcdc:function(t,e,n){"use strict";var a=n("9175"),i=n.n(a);i.a},dd5b:function(t,e,n){"use strict";var a=n("2382"),i=n.n(a);i.a},df2c:function(t,e,n){"use strict";var a=n("44ef"),i=n.n(a);i.a},ea69:function(t,e,n){},f026:function(t,e,n){"use strict";var a=n("08bc"),i=n.n(a);i.a},f0ed:function(t,e,n){"use strict";var a=n("a209"),i=n.n(a);i.a},fad2:function(t,e,n){},fe25:function(t,e,n){},fed0:function(t,e,n){"use strict";var a=n("5a68"),i=n.n(a);i.a}});